/home_daint/bbpnrsoa
/home_daint/bbpnrsoa/nrp/src/GazeboRosPackages/devel/lib/python3/dist-packages:/opt/ros/noetic/lib/python3/dist-packages:/home_daint/bbpnrsoa/nrp/src/GazeboRosPackages/devel/lib/python3.8/dist-packages:/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle:/home_daint/bbpnrsoa/nrp/src/ExperimentControl/hbp_nrp_excontrol:/home_daint/bbpnrsoa/nrp/src/ExDBackend/hbp_nrp_backend:/home_daint/bbpnrsoa/nrp/src/ExDBackend/hbp_nrp_cleserver:/home_daint/bbpnrsoa/nrp/src/ExDBackend/hbp_nrp_commons:/home_daint/bbpnrsoa/nrp/src/ExDBackend/hbp_nrp_watchdog:/home_daint/bbpnrsoa/nrp/src/ExDBackend/hbp-flask-restful-swagger-master:/home_daint/bbpnrsoa/nrp/src/VirtualCoach/hbp_nrp_virtual_coach:/home_daint/bbpnrsoa/nrp/src/BrainSimulation/hbp_nrp_distributed_nest:/home_daint/bbpnrsoa/.local/lib/python3.8/site-packages:/home_daint/bbpnrsoa/.local/lib/x86_64-linux-gnu/python3.8/site-packages
[1;31m+-------------------------- Neurorobotics Platform warning ---------------------------+
| Dear Neurorobotics user, your PYTHONPATH contains previous paths.                   |
| This might cause the Neurorobotics Platform to malfunction.                         |
| If you are experiencing problems (like MPI.so not finding function references), add |
|   export PYTHONPATH=                                                                |
| to your ~/.bashrc                                                                   |
+-------------------------------------------------------------------------------------+[0m
[INFO] [2021.12.1 23:33:31 /home_daint/bbpnrsoa/nrp/src/nest-simulator/nestkernel/rng_manager.cpp:217 @ Network::create_rngs_] : Creating default RNGs
[INFO] [2021.12.1 23:33:31 /home_daint/bbpnrsoa/nrp/src/nest-simulator/nestkernel/rng_manager.cpp:260 @ Network::create_grng_] : Creating new default global RNG

              -- N E S T --
  Copyright (C) 2004 The NEST Initiative

 Version: nest-2.18.0
 Built: Nov 15 2021 12:00:34

 This program is provided AS IS and comes with
 NO WARRANTY. See the file LICENSE for details.

 Problems or suggestions?
   Visit https://www.nest-simulator.org

 Type 'nest.help()' to find out more about NEST.

CSAConnector: libneurosim support not available in NEST.
Falling back on PyNN's default CSAConnector.
Please re-compile NEST using --with-libneurosim=PATH
2021-12-01 23:33:33,348 [Thread-4    ] [rospy.intern] [INFO]  topic[/rosout] adding connection to [/rosout], count 0
2021-12-01 23:34:14,305 [Thread-7    ] [hbp_nrp_cles] [INFO]  Create new simulation request
2021-12-01 23:34:14,305 [Thread-7    ] [hbp_nrp_cles] [INFO]  Preparing new simulation with /tmp/nrp.0.6smhj6so/experiment_configuration.exc config file
2021-12-01 23:34:14,320 [Thread-7    ] [SimConfig   ] [INFO]  Bibi absolute path: /tmp/nrp.0.6smhj6so/bibi_config.bibi
2021-12-01 23:34:14,323 [Thread-7    ] [SimConfig   ] [INFO]  Gazebo's lockstep mode set to False
2021-12-01 23:34:14,324 [Thread-7    ] [SimConfig   ] [INFO]  Using physics engine ode
2021-12-01 23:34:14,324 [Thread-7    ] [hbp_nrp_cles] [INFO]  Starting the experiment closed loop engine.
2021-12-01 23:34:14,324 [Thread-7    ] [hbp_nrp_cles] [INFO]  Path is /tmp/nrp.0.6smhj6so
2021-12-01 23:34:14,324 [Thread-7    ] [hbp_nrp_cles] [INFO]  No RNG seed specified in the exc, using random value.
2021-12-01 23:34:14,324 [Thread-7    ] [hbp_nrp_cles] [INFO]  RNG seed = 6241706741717578371
2021-12-01 23:34:14,324 [Thread-7    ] [hbp_nrp_cles] [INFO]  Setting up backend Notificator
2021-12-01 23:34:14,331 [Thread-7    ] [hbp_nrp_cles] [INFO]  ROS notificator initialized
2021-12-01 23:34:14,331 [Thread-7    ] [hbp_nrp_cles] [INFO]  Creating CLE Server
2021-12-01 23:34:14,357 [Thread-7    ] [hbp_nrp_cles] [INFO]  gzserver arguments:  --seed 6241706741717578371 -e ode /tmp/nrp.0.6smhj6so/virtual_room.sdf
2021-12-01 23:34:14,357 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Starting gzserver
Found /home_daint/bbpnrsoa/.local/bin/gzserver
Starting gzserver:  OK.

[0m[ INFO] [1638398059.855136902]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...[0m
[0m[ INFO] [1638398059.861396034]: Finished loading Gazebo ROS API Plugin.[0m
[0m[ INFO] [1638398059.886834305]: Gazebo ROS Recording Plugin initialized.[0m
[0m[ INFO] [1638398059.901852442]: Gazebo ROS Playback Plugin initialized.[0m
2021-12-01 23:34:20,678 [Thread-11   ] [rospy.intern] [INFO]  topic[/clock] adding connection to [http://148.187.32.7:41011/], count 0
2021-12-01 23:34:20,941 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Restarting Gazebo web client communication adapter
[0m[ INFO] [1638398060.627557627]: waitForService: Service [/gazebo/set_physics_properties] is now available.[0m
[0m[ INFO] [1638398060.817787990]: Physics dynamic reconfigure ready.[0m
Found /home_daint/bbpnrsoa/nrp/src/gzweb/gzbridge/server.js
Starting node:  OK.

2021-12-01 23:34:22,965 [Thread-7    ] [hbp_nrp_cles] [INFO]  Non-existent textures or folder!
2021-12-01 23:34:23,339 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Adding robot husky from /tmp/nrp.0.6smhj6so/husky/model.sdf: 
Pose message filter parameters: 
  minimum seconds between successive messages: 0.02
  minimum XYZ distance squared between successive messages: 0.00001
  minimum Quaternion distance squared between successive messages: 0.0001
--------------------------------------------------------------
Wed Dec 01 2021 23:34:23 GMT+0100 (CET) gzbridge Websocket is listening on port: 7681
2021-12-01 23:34:23,726 [Thread-7    ] [hbp_nrp_cles] [INFO]  Preparing CLE Server
2021-12-01 23:34:23,755 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Robot control adapter initialized
2021-12-01 23:34:23,778 [Thread-7    ] [hbp_nrp_cle.] [INFO]  neuronal simulator initialized
2021-12-01 23:34:23,779 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Initialize transfer functions node tfnode
2021-12-01 23:34:23,779 [Thread-7    ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-01 23:34:23,779 [Thread-7    ] [hbp_nrp_cle.] [WARNING]  ROS node already initialized with another name
2021-12-01 23:34:23,779 [Thread-7    ] [hbp_nrp_cle ] [INFO]  Recreating brain from file /tmp/nrp.0.6smhj6so/hpctest122020.py
2021-12-01 23:34:40,157 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Saving brain source
2021-12-01 23:34:40,158 [Thread-7    ] [hbp_nrp_cle ] [INFO]  Resetting TFs
2021-12-01 23:34:40,158 [Thread-7    ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-01 23:34:40,158 [Thread-7    ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-01 23:34:40,170 [Thread-7    ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-01 23:34:40,171 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] adding connection to [/nrp_backend], count 0
2021-12-01 23:34:40,173 [Thread-16   ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] adding connection to [http://148.187.32.7:44727/], count 0
2021-12-01 23:34:40,174 [Thread-15   ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] adding connection to [http://148.187.32.7:43859/], count 0
2021-12-01 23:34:40,175 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] adding connection to [/ros_cle_simulation_281_1638398013009], count 1
2021-12-01 23:34:40,179 [Thread-7    ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-01 23:34:40,235 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Initialize transfer function all_neurons_spike_monitor monitors (root).record
2021-12-01 23:34:40,294 [Thread-7    ] [hbp_nrp_cle.] [ERROR]  Error while loading new transfer function
2021-12-01 23:34:40,294 [Thread-7    ] [hbp_nrp_cle.] [ERROR]  Out of range float values are not JSON compliant
Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 471, in prepare_body
    body = complexjson.dumps(json, allow_nan=False)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Out of range float values are not JSON compliant

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/__init__.py", line 472, in set_transfer_function
    config.active_node.initialize_tf(tf, activation)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_TransferFunctionManager.py", line 285, in initialize_tf
    tf.params[i] = tf.params[i].create_adapter(self)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_Neuron2Robot.py", line 116, in create_adapter
    return adapter.register_spike_sink(neurons,
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 132, in register_spike_sink
    device = self.__register_device(populations, spike_detector_type, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 112, in __register_device
    device = concrete_type.create_new_device_group(populations, self._nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 72, in create_new_device_group
    return NestDeviceGroup.create_new_device_group(populations, cls, nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestDeviceGroup.py", line 58, in create_new_device_group
    device = nested_device_type.create_new_device(
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 59, in create_new_device
    return cls(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegratorTypes.py", line 83, in __init__
    super(NestLeakyIntegratorAlpha, self).__init__(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 73, in __init__
    self.create_device()
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 103, in create_device
    self._cell = self._nest_client.create_device(self._get_cell_type(),
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 79, in create_device
    return self.Create(model=device_model, n=n, params=parameters)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 24, in method
    response = requests.post(self.url + 'api/' + call, json=kwargs, headers=self.headers)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 117, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 528, in request
    prep = self.prepare_request(req)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 456, in prepare_request
    p.prepare(
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 319, in prepare
    self.prepare_body(data, files, json)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 473, in prepare_body
    raise InvalidJSONError(ve, request=self)
requests.exceptions.InvalidJSONError: Out of range float values are not JSON compliant
2021-12-01 23:34:40,302 [Thread-7    ] [hbp_nrp_cles] [ERROR]  all_neurons_spike_monitor: 'Out of range float values are not JSON compliant' (TF Loading Exception)
2021-12-01 23:34:40,307 [Thread-7    ] [hbp_nrp_cles] [INFO]  CLELauncher Finished.
2021-12-01 23:34:40,313 [Thread-7    ] [hbp_nrp_cles] [INFO]  Initialization done
2021-12-01 23:34:40,314 [Thread-7    ] [hbp_nrp_cles] [INFO]  Spawning new thread that will manage the experiment execution.
2021-12-01 23:34:40,387 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state created to state paused...
2021-12-01 23:34:40,387 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'initialize' before transition.
2021-12-01 23:34:40,387 [/ros_cle_sim] [transitions.] [INFO]  Exited state created
2021-12-01 23:34:40,387 [/ros_cle_sim] [transitions.] [INFO]  Entered state paused
2021-12-01 23:34:40,388 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9f39370>' after transition.
2021-12-01 23:34:41,445 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state paused to state started...
2021-12-01 23:34:41,446 [CLE_THREAD  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-01 23:34:41,446 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'start' before transition.
2021-12-01 23:34:41,446 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop started
2021-12-01 23:34:41,446 [/ros_cle_sim] [transitions.] [INFO]  Exited state paused
2021-12-01 23:34:41,446 [/ros_cle_sim] [transitions.] [INFO]  Entered state started
2021-12-01 23:34:41,447 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9f395b0>' after transition.
2021-12-01 23:34:41,909 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] adding connection to [/rosbridge_websocket], count 0
2021-12-01 23:34:41,928 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] adding connection to [/rosbridge_websocket], count 0
2021-12-01 23:36:52,109 [CLE_THREAD  ] [transitions.] [INFO]  Initiating transition from state started to state stopped...
2021-12-01 23:36:52,109 [CLE_THREAD  ] [transitions.] [INFO]  Executing callback 'stop' before transition.
2021-12-01 23:36:52,110 [CLE_THREAD  ] [transitions.] [INFO]  Exited state started
2021-12-01 23:36:52,110 [CLE_THREAD  ] [transitions.] [INFO]  Entered state stopped
2021-12-01 23:36:52,110 [CLE_THREAD  ] [hbp_nrp_comm] [INFO]  Changing simulation lifecycle state from started to stopped
2021-12-01 23:36:52,707 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] removing connection to /rosbridge_websocket
2021-12-01 23:36:52,707 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] removing connection to /rosbridge_websocket
2021-12-01 23:36:53,111 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/0/lifecycle...
2021-12-01 23:36:53,111 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] removing connection to http://148.187.32.7:44727/
2021-12-01 23:36:53,112 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] removing connection to http://148.187.32.7:43859/
2021-12-01 23:36:53,116 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/0/lifecycle...
2021-12-01 23:36:53,116 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] removing connection to /nrp_backend
2021-12-01 23:36:53,116 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] removing connection to /ros_cle_simulation_281_1638398013009
2021-12-01 23:36:53,120 [CLE_THREAD  ] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9f398e0>' after transition.
2021-12-01 23:36:53,120 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop ended
2021-12-01 23:36:54,112 [Thread-20   ] [hbp_nrp_cles] [INFO]  Finished main loop
2021-12-01 23:36:54,112 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutdown simulation
2021-12-01 23:36:54,113 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder services
2021-12-01 23:36:54,116 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder
2021-12-01 23:36:55,840 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down the closed loop service
2021-12-01 23:36:55,840 [Thread-20   ] [hbp_nrp_cle.] [INFO]  Shutting down the world simulation
2021-12-01 23:36:55,841 [Thread-20   ] [hbp_nrp_cle.] [INFO]  Robot control adapter stopped
2021-12-01 23:36:55,841 [Thread-20   ] [hbp_nrp_cle.] [INFO]  neuronal simulator ended
2021-12-01 23:36:57,843 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down get_transfer_functions service
2021-12-01 23:36:57,849 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down activate_transfer_function service
2021-12-01 23:36:57,853 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down add_transfer_function service
2021-12-01 23:36:57,856 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down set_transfer_function services
2021-12-01 23:36:57,859 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down delete_transfer_function services
2021-12-01 23:36:57,863 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down get_brain service
2021-12-01 23:36:57,866 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down set_brain service
2021-12-01 23:36:57,869 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-01 23:36:57,873 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-01 23:36:57,876 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down get_CSV_recorders_files service
2021-12-01 23:36:57,879 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down clean_CSV_recorders_files service
2021-12-01 23:36:57,883 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down get_robots service
2021-12-01 23:36:57,887 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down add_robot service
2021-12-01 23:36:57,890 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down delete_robot service
2021-12-01 23:36:57,893 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down set_robot_initial_pose service
2021-12-01 23:36:57,897 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down prepare_custom_model service
2021-12-01 23:36:57,939 [Thread-20   ] [hbp_nrp_cle.] [INFO]  Stopping Gazebo web client communication adapter
Stopping node:  OK.
2021-12-01 23:36:57,945 [Thread-20   ] [hbp_nrp_cle.] [INFO]  Stopping gzserver
Stopping 1843:  OK.
2021-12-01 23:36:57,962 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down ROS notificator
2021-12-01 23:36:57,963 [Thread-20   ] [hbp_nrp_cles] [INFO]  Unregister error/transfer_function topic
2021-12-01 23:36:57,963 [Thread-20   ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/cle_error...
2021-12-01 23:36:57,964 [/clock      ] [rospy.intern] [INFO]  topic[/clock] removing connection to http://148.187.32.7:41011/
2021-12-01 23:36:57,966 [Thread-20   ] [hbp_nrp_cles] [INFO]  Unregister status topic
2021-12-01 23:36:57,966 [Thread-20   ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/status...
2021-12-01 23:36:57,971 [Thread-20   ] [hbp_nrp_cles] [INFO]  Cleaning up ROS nodes and services
killing /gazebo
killed
2021-12-01 23:38:34,338 [Thread-48   ] [hbp_nrp_cles] [INFO]  Create new simulation request
2021-12-01 23:38:34,338 [Thread-48   ] [hbp_nrp_cles] [INFO]  Preparing new simulation with /tmp/nrp.1.nmoyx1le/experiment_configuration.exc config file
2021-12-01 23:38:34,346 [Thread-48   ] [SimConfig   ] [INFO]  Bibi absolute path: /tmp/nrp.1.nmoyx1le/bibi_config.bibi
2021-12-01 23:38:34,348 [Thread-48   ] [SimConfig   ] [INFO]  Gazebo's lockstep mode set to False
2021-12-01 23:38:34,349 [Thread-48   ] [SimConfig   ] [INFO]  Using physics engine ode
2021-12-01 23:38:34,349 [Thread-48   ] [hbp_nrp_cles] [INFO]  Starting the experiment closed loop engine.
2021-12-01 23:38:34,349 [Thread-48   ] [hbp_nrp_cles] [INFO]  Path is /tmp/nrp.1.nmoyx1le
2021-12-01 23:38:34,349 [Thread-48   ] [hbp_nrp_cles] [INFO]  No RNG seed specified in the exc, using random value.
2021-12-01 23:38:34,349 [Thread-48   ] [hbp_nrp_cles] [INFO]  RNG seed = 682734378638521024
2021-12-01 23:38:34,349 [Thread-48   ] [hbp_nrp_cles] [INFO]  Setting up backend Notificator
2021-12-01 23:38:34,356 [Thread-48   ] [hbp_nrp_cles] [INFO]  ROS notificator initialized
2021-12-01 23:38:34,356 [Thread-48   ] [hbp_nrp_cles] [INFO]  Creating CLE Server
2021-12-01 23:38:34,382 [Thread-48   ] [hbp_nrp_cles] [INFO]  gzserver arguments:  --seed 682734378638521024 -e ode /tmp/nrp.1.nmoyx1le/virtual_room.sdf
2021-12-01 23:38:34,382 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Starting gzserver
Found /home_daint/bbpnrsoa/.local/bin/gzserver
Starting gzserver:  OK.

[0m[ INFO] [1638398317.131235689]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...[0m
[0m[ INFO] [1638398317.137479849]: Finished loading Gazebo ROS API Plugin.[0m
[0m[ INFO] [1638398317.160442884]: Gazebo ROS Recording Plugin initialized.[0m
[0m[ INFO] [1638398317.175592599]: Gazebo ROS Playback Plugin initialized.[0m
2021-12-01 23:38:37,820 [Thread-52   ] [rospy.intern] [INFO]  topic[/clock] adding connection to [http://148.187.32.7:42273/], count 0
2021-12-01 23:38:38,241 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Restarting Gazebo web client communication adapter
[0m[ INFO] [1638398317.854591811]: waitForService: Service [/gazebo/set_physics_properties] is now available.[0m
[0m[ INFO] [1638398318.046452089]: Physics dynamic reconfigure ready.[0m
Found /home_daint/bbpnrsoa/nrp/src/gzweb/gzbridge/server.js
Starting node:  OK.

2021-12-01 23:38:40,271 [Thread-48   ] [hbp_nrp_cles] [INFO]  Non-existent textures or folder!
Pose message filter parameters: 
  minimum seconds between successive messages: 0.02
  minimum XYZ distance squared between successive messages: 0.00001
  minimum Quaternion distance squared between successive messages: 0.0001
--------------------------------------------------------------
Wed Dec 01 2021 23:38:40 GMT+0100 (CET) gzbridge Websocket is listening on port: 7681
2021-12-01 23:38:40,614 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Adding robot husky from /tmp/nrp.1.nmoyx1le/husky/model.sdf: 
2021-12-01 23:38:40,980 [Thread-48   ] [hbp_nrp_cles] [INFO]  Preparing CLE Server
2021-12-01 23:38:41,009 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Robot control adapter initialized
2021-12-01 23:38:41,033 [Thread-48   ] [hbp_nrp_cle.] [INFO]  neuronal simulator initialized
2021-12-01 23:38:41,033 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Initialize transfer functions node tfnode
2021-12-01 23:38:41,033 [Thread-48   ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-01 23:38:41,033 [Thread-48   ] [hbp_nrp_cle.] [WARNING]  ROS node already initialized with another name
2021-12-01 23:38:41,033 [Thread-48   ] [hbp_nrp_cle ] [INFO]  Recreating brain from file /tmp/nrp.1.nmoyx1le/hpctest122020.py
2021-12-01 23:38:49,340 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Saving brain source
2021-12-01 23:38:49,340 [Thread-48   ] [hbp_nrp_cle ] [INFO]  Resetting TFs
2021-12-01 23:38:49,340 [Thread-48   ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-01 23:38:49,341 [Thread-48   ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-01 23:38:49,352 [Thread-48   ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-01 23:38:49,355 [Thread-54   ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] adding connection to [http://148.187.32.7:43859/], count 0
2021-12-01 23:38:49,355 [Thread-55   ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] adding connection to [http://148.187.32.7:44727/], count 0
2021-12-01 23:38:49,357 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] adding connection to [/ros_cle_simulation_281_1638398013009], count 0
2021-12-01 23:38:49,361 [Thread-48   ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-01 23:38:49,372 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] adding connection to [/nrp_backend], count 1
2021-12-01 23:38:49,418 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Initialize transfer function all_neurons_spike_monitor monitors (root).record
2021-12-01 23:38:49,477 [Thread-48   ] [hbp_nrp_cle.] [ERROR]  Error while loading new transfer function
2021-12-01 23:38:49,477 [Thread-48   ] [hbp_nrp_cle.] [ERROR]  Out of range float values are not JSON compliant
Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 471, in prepare_body
    body = complexjson.dumps(json, allow_nan=False)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Out of range float values are not JSON compliant

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/__init__.py", line 472, in set_transfer_function
    config.active_node.initialize_tf(tf, activation)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_TransferFunctionManager.py", line 285, in initialize_tf
    tf.params[i] = tf.params[i].create_adapter(self)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_Neuron2Robot.py", line 116, in create_adapter
    return adapter.register_spike_sink(neurons,
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 132, in register_spike_sink
    device = self.__register_device(populations, spike_detector_type, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 112, in __register_device
    device = concrete_type.create_new_device_group(populations, self._nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 72, in create_new_device_group
    return NestDeviceGroup.create_new_device_group(populations, cls, nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestDeviceGroup.py", line 58, in create_new_device_group
    device = nested_device_type.create_new_device(
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 59, in create_new_device
    return cls(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegratorTypes.py", line 83, in __init__
    super(NestLeakyIntegratorAlpha, self).__init__(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 73, in __init__
    self.create_device()
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 103, in create_device
    self._cell = self._nest_client.create_device(self._get_cell_type(),
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 79, in create_device
    return self.Create(model=device_model, n=n, params=parameters)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 24, in method
    response = requests.post(self.url + 'api/' + call, json=kwargs, headers=self.headers)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 117, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 528, in request
    prep = self.prepare_request(req)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 456, in prepare_request
    p.prepare(
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 319, in prepare
    self.prepare_body(data, files, json)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 473, in prepare_body
    raise InvalidJSONError(ve, request=self)
requests.exceptions.InvalidJSONError: Out of range float values are not JSON compliant
2021-12-01 23:38:49,478 [Thread-48   ] [hbp_nrp_cles] [ERROR]  all_neurons_spike_monitor: 'Out of range float values are not JSON compliant' (TF Loading Exception)
2021-12-01 23:38:49,483 [Thread-48   ] [hbp_nrp_cles] [INFO]  CLELauncher Finished.
2021-12-01 23:38:49,490 [Thread-48   ] [hbp_nrp_cles] [INFO]  Initialization done
2021-12-01 23:38:49,490 [Thread-48   ] [hbp_nrp_cles] [INFO]  Spawning new thread that will manage the experiment execution.
2021-12-01 23:38:49,564 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state created to state paused...
2021-12-01 23:38:49,565 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'initialize' before transition.
2021-12-01 23:38:49,565 [/ros_cle_sim] [transitions.] [INFO]  Exited state created
2021-12-01 23:38:49,565 [/ros_cle_sim] [transitions.] [INFO]  Entered state paused
2021-12-01 23:38:49,565 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aaae359f2e0>' after transition.
2021-12-01 23:38:50,586 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] adding connection to [/rosbridge_websocket], count 0
2021-12-01 23:38:50,622 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state paused to state started...
2021-12-01 23:38:50,622 [CLE_THREAD  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-01 23:38:50,622 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'start' before transition.
2021-12-01 23:38:50,622 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop started
2021-12-01 23:38:50,622 [/ros_cle_sim] [transitions.] [INFO]  Exited state paused
2021-12-01 23:38:50,623 [/ros_cle_sim] [transitions.] [INFO]  Entered state started
2021-12-01 23:38:50,623 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aaae359f460>' after transition.
2021-12-01 23:38:50,634 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] adding connection to [/rosbridge_websocket], count 0
2021-12-01 23:40:12,660 [CLE_THREAD  ] [transitions.] [INFO]  Initiating transition from state started to state stopped...
2021-12-01 23:40:12,660 [CLE_THREAD  ] [transitions.] [INFO]  Executing callback 'stop' before transition.
2021-12-01 23:40:12,661 [CLE_THREAD  ] [transitions.] [INFO]  Exited state started
2021-12-01 23:40:12,661 [CLE_THREAD  ] [transitions.] [INFO]  Entered state stopped
2021-12-01 23:40:12,661 [CLE_THREAD  ] [hbp_nrp_comm] [INFO]  Changing simulation lifecycle state from started to stopped
2021-12-01 23:40:13,662 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/1/lifecycle...
2021-12-01 23:40:13,662 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] removing connection to http://148.187.32.7:43859/
2021-12-01 23:40:13,663 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] removing connection to http://148.187.32.7:44727/
2021-12-01 23:40:13,667 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/1/lifecycle...
2021-12-01 23:40:13,667 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] removing connection to /ros_cle_simulation_281_1638398013009
2021-12-01 23:40:13,667 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] removing connection to /nrp_backend
2021-12-01 23:40:13,671 [CLE_THREAD  ] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aaae359f760>' after transition.
2021-12-01 23:40:13,671 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop ended
2021-12-01 23:40:13,885 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] removing connection to /rosbridge_websocket
2021-12-01 23:40:13,885 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] removing connection to /rosbridge_websocket
2021-12-01 23:40:14,663 [Thread-61   ] [hbp_nrp_cles] [INFO]  Finished main loop
2021-12-01 23:40:14,663 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutdown simulation
2021-12-01 23:40:14,664 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder services
2021-12-01 23:40:14,667 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder
2021-12-01 23:40:18,566 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down the closed loop service
2021-12-01 23:40:18,566 [Thread-61   ] [hbp_nrp_cle.] [INFO]  Shutting down the world simulation
2021-12-01 23:40:18,566 [Thread-61   ] [hbp_nrp_cle.] [INFO]  Robot control adapter stopped
2021-12-01 23:40:18,566 [Thread-61   ] [hbp_nrp_cle.] [INFO]  neuronal simulator ended
2021-12-01 23:40:20,569 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down get_transfer_functions service
2021-12-01 23:40:20,576 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down activate_transfer_function service
2021-12-01 23:40:20,579 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down add_transfer_function service
2021-12-01 23:40:20,582 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down set_transfer_function services
2021-12-01 23:40:20,586 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down delete_transfer_function services
2021-12-01 23:40:20,590 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down get_brain service
2021-12-01 23:40:20,593 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down set_brain service
2021-12-01 23:40:20,596 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-01 23:40:20,600 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-01 23:40:20,603 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down get_CSV_recorders_files service
2021-12-01 23:40:20,607 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down clean_CSV_recorders_files service
2021-12-01 23:40:20,610 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down get_robots service
2021-12-01 23:40:20,614 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down add_robot service
2021-12-01 23:40:20,618 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down delete_robot service
2021-12-01 23:40:20,621 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down set_robot_initial_pose service
2021-12-01 23:40:20,624 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down prepare_custom_model service
2021-12-01 23:40:20,668 [Thread-61   ] [hbp_nrp_cle.] [INFO]  Stopping Gazebo web client communication adapter
Stopping node:  OK.
2021-12-01 23:40:20,674 [Thread-61   ] [hbp_nrp_cle.] [INFO]  Stopping gzserver
Stopping 2951:  OK.
2021-12-01 23:40:20,685 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down ROS notificator
2021-12-01 23:40:20,685 [Thread-61   ] [hbp_nrp_cles] [INFO]  Unregister error/transfer_function topic
2021-12-01 23:40:20,685 [Thread-61   ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/cle_error...
2021-12-01 23:40:20,689 [Thread-61   ] [hbp_nrp_cles] [INFO]  Unregister status topic
2021-12-01 23:40:20,689 [Thread-61   ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/status...
2021-12-01 23:40:20,693 [/clock      ] [rospy.intern] [INFO]  topic[/clock] removing connection to http://148.187.32.7:42273/
2021-12-01 23:40:20,694 [Thread-61   ] [hbp_nrp_cles] [INFO]  Cleaning up ROS nodes and services
killing /gazebo
killed
2021-12-01 23:41:55,609 [Thread-89   ] [hbp_nrp_cles] [INFO]  Create new simulation request
2021-12-01 23:41:55,610 [Thread-89   ] [hbp_nrp_cles] [INFO]  Preparing new simulation with /tmp/nrp.2.2200_18u/experiment_configuration.exc config file
2021-12-01 23:41:55,617 [Thread-89   ] [SimConfig   ] [INFO]  Bibi absolute path: /tmp/nrp.2.2200_18u/bibi_config.bibi
2021-12-01 23:41:55,620 [Thread-89   ] [SimConfig   ] [INFO]  Gazebo's lockstep mode set to False
2021-12-01 23:41:55,620 [Thread-89   ] [SimConfig   ] [INFO]  Using physics engine ode
2021-12-01 23:41:55,620 [Thread-89   ] [hbp_nrp_cles] [INFO]  Starting the experiment closed loop engine.
2021-12-01 23:41:55,621 [Thread-89   ] [hbp_nrp_cles] [INFO]  Path is /tmp/nrp.2.2200_18u
2021-12-01 23:41:55,621 [Thread-89   ] [hbp_nrp_cles] [INFO]  No RNG seed specified in the exc, using random value.
2021-12-01 23:41:55,621 [Thread-89   ] [hbp_nrp_cles] [INFO]  RNG seed = 6770287557786613733
2021-12-01 23:41:55,621 [Thread-89   ] [hbp_nrp_cles] [INFO]  Setting up backend Notificator
2021-12-01 23:41:55,627 [Thread-89   ] [hbp_nrp_cles] [INFO]  ROS notificator initialized
2021-12-01 23:41:55,628 [Thread-89   ] [hbp_nrp_cles] [INFO]  Creating CLE Server
2021-12-01 23:41:55,649 [Thread-89   ] [hbp_nrp_cles] [INFO]  gzserver arguments:  --seed 6770287557786613733 -e ode /tmp/nrp.2.2200_18u/virtual_room.sdf
2021-12-01 23:41:55,649 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Starting gzserver
Found /home_daint/bbpnrsoa/.local/bin/gzserver
Starting gzserver:  OK.

[0m[ INFO] [1638398518.403388316]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...[0m
[0m[ INFO] [1638398518.410152748]: Finished loading Gazebo ROS API Plugin.[0m
[0m[ INFO] [1638398518.433450924]: Gazebo ROS Recording Plugin initialized.[0m
[0m[ INFO] [1638398518.449837340]: Gazebo ROS Playback Plugin initialized.[0m
2021-12-01 23:41:59,125 [Thread-93   ] [rospy.intern] [INFO]  topic[/clock] adding connection to [http://148.187.32.7:40647/], count 0
2021-12-01 23:41:59,509 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Restarting Gazebo web client communication adapter
[0m[ INFO] [1638398519.151509812]: waitForService: Service [/gazebo/set_physics_properties] is now available.[0m
[0m[ INFO] [1638398519.333919372]: Physics dynamic reconfigure ready.[0m
Found /home_daint/bbpnrsoa/nrp/src/gzweb/gzbridge/server.js
Starting node:  OK.

2021-12-01 23:42:01,530 [Thread-89   ] [hbp_nrp_cles] [INFO]  Non-existent textures or folder!
Pose message filter parameters: 
  minimum seconds between successive messages: 0.02
  minimum XYZ distance squared between successive messages: 0.00001
  minimum Quaternion distance squared between successive messages: 0.0001
--------------------------------------------------------------
Wed Dec 01 2021 23:42:01 GMT+0100 (CET) gzbridge Websocket is listening on port: 7681
2021-12-01 23:42:01,977 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Adding robot husky from /tmp/nrp.2.2200_18u/husky/model.sdf: 
2021-12-01 23:42:02,284 [Thread-89   ] [hbp_nrp_cles] [INFO]  Preparing CLE Server
2021-12-01 23:42:02,314 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Robot control adapter initialized
2021-12-01 23:42:02,338 [Thread-89   ] [hbp_nrp_cle.] [INFO]  neuronal simulator initialized
2021-12-01 23:42:02,338 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Initialize transfer functions node tfnode
2021-12-01 23:42:02,339 [Thread-89   ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-01 23:42:02,339 [Thread-89   ] [hbp_nrp_cle.] [WARNING]  ROS node already initialized with another name
2021-12-01 23:42:02,339 [Thread-89   ] [hbp_nrp_cle ] [INFO]  Recreating brain from file /tmp/nrp.2.2200_18u/hpctest122020.py
2021-12-01 23:42:06,554 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Saving brain source
2021-12-01 23:42:06,554 [Thread-89   ] [hbp_nrp_cle ] [INFO]  Resetting TFs
2021-12-01 23:42:06,554 [Thread-89   ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-01 23:42:06,554 [Thread-89   ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-01 23:42:06,565 [Thread-89   ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-01 23:42:06,568 [Thread-95   ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] adding connection to [http://148.187.32.7:43859/], count 0
2021-12-01 23:42:06,569 [Thread-96   ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] adding connection to [http://148.187.32.7:44727/], count 0
2021-12-01 23:42:06,571 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] adding connection to [/ros_cle_simulation_281_1638398013009], count 0
2021-12-01 23:42:06,573 [Thread-89   ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-01 23:42:06,584 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] adding connection to [/nrp_backend], count 1
2021-12-01 23:42:06,634 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Initialize transfer function all_neurons_spike_monitor monitors (root).record
2021-12-01 23:42:06,696 [Thread-89   ] [hbp_nrp_cle.] [ERROR]  Error while loading new transfer function
2021-12-01 23:42:06,696 [Thread-89   ] [hbp_nrp_cle.] [ERROR]  Out of range float values are not JSON compliant
Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 471, in prepare_body
    body = complexjson.dumps(json, allow_nan=False)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Out of range float values are not JSON compliant

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/__init__.py", line 472, in set_transfer_function
    config.active_node.initialize_tf(tf, activation)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_TransferFunctionManager.py", line 285, in initialize_tf
    tf.params[i] = tf.params[i].create_adapter(self)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_Neuron2Robot.py", line 116, in create_adapter
    return adapter.register_spike_sink(neurons,
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 132, in register_spike_sink
    device = self.__register_device(populations, spike_detector_type, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 112, in __register_device
    device = concrete_type.create_new_device_group(populations, self._nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 72, in create_new_device_group
    return NestDeviceGroup.create_new_device_group(populations, cls, nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestDeviceGroup.py", line 58, in create_new_device_group
    device = nested_device_type.create_new_device(
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 59, in create_new_device
    return cls(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegratorTypes.py", line 83, in __init__
    super(NestLeakyIntegratorAlpha, self).__init__(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 73, in __init__
    self.create_device()
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 103, in create_device
    self._cell = self._nest_client.create_device(self._get_cell_type(),
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 79, in create_device
    return self.Create(model=device_model, n=n, params=parameters)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 24, in method
    response = requests.post(self.url + 'api/' + call, json=kwargs, headers=self.headers)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 117, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 528, in request
    prep = self.prepare_request(req)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 456, in prepare_request
    p.prepare(
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 319, in prepare
    self.prepare_body(data, files, json)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 473, in prepare_body
    raise InvalidJSONError(ve, request=self)
requests.exceptions.InvalidJSONError: Out of range float values are not JSON compliant
2021-12-01 23:42:06,697 [Thread-89   ] [hbp_nrp_cles] [ERROR]  all_neurons_spike_monitor: 'Out of range float values are not JSON compliant' (TF Loading Exception)
2021-12-01 23:42:06,702 [Thread-89   ] [hbp_nrp_cles] [INFO]  CLELauncher Finished.
2021-12-01 23:42:06,708 [Thread-89   ] [hbp_nrp_cles] [INFO]  Initialization done
2021-12-01 23:42:06,709 [Thread-89   ] [hbp_nrp_cles] [INFO]  Spawning new thread that will manage the experiment execution.
2021-12-01 23:42:06,780 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state created to state paused...
2021-12-01 23:42:06,780 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'initialize' before transition.
2021-12-01 23:42:06,780 [/ros_cle_sim] [transitions.] [INFO]  Exited state created
2021-12-01 23:42:06,780 [/ros_cle_sim] [transitions.] [INFO]  Entered state paused
2021-12-01 23:42:06,780 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9f703d0>' after transition.
2021-12-01 23:42:07,812 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] adding connection to [/rosbridge_websocket], count 0
2021-12-01 23:42:07,847 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state paused to state started...
2021-12-01 23:42:07,847 [CLE_THREAD  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-01 23:42:07,847 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'start' before transition.
2021-12-01 23:42:07,848 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop started
2021-12-01 23:42:07,848 [/ros_cle_sim] [transitions.] [INFO]  Exited state paused
2021-12-01 23:42:07,848 [/ros_cle_sim] [transitions.] [INFO]  Entered state started
2021-12-01 23:42:07,848 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9f70250>' after transition.
2021-12-01 23:42:07,858 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] adding connection to [/rosbridge_websocket], count 0
2021-12-01 23:43:00,051 [CLE_THREAD  ] [transitions.] [INFO]  Initiating transition from state started to state stopped...
2021-12-01 23:43:00,052 [CLE_THREAD  ] [transitions.] [INFO]  Executing callback 'stop' before transition.
2021-12-01 23:43:00,052 [CLE_THREAD  ] [transitions.] [INFO]  Exited state started
2021-12-01 23:43:00,052 [CLE_THREAD  ] [transitions.] [INFO]  Entered state stopped
2021-12-01 23:43:00,052 [CLE_THREAD  ] [hbp_nrp_comm] [INFO]  Changing simulation lifecycle state from started to stopped
2021-12-01 23:43:01,053 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/2/lifecycle...
2021-12-01 23:43:01,053 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] removing connection to http://148.187.32.7:43859/
2021-12-01 23:43:01,054 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] removing connection to http://148.187.32.7:44727/
2021-12-01 23:43:01,058 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/2/lifecycle...
2021-12-01 23:43:01,058 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] removing connection to /ros_cle_simulation_281_1638398013009
2021-12-01 23:43:01,058 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] removing connection to /nrp_backend
2021-12-01 23:43:01,062 [CLE_THREAD  ] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9f70970>' after transition.
2021-12-01 23:43:01,062 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop ended
2021-12-01 23:43:01,085 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] removing connection to /rosbridge_websocket
2021-12-01 23:43:01,085 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] removing connection to /rosbridge_websocket
2021-12-01 23:43:02,054 [Thread-102  ] [hbp_nrp_cles] [INFO]  Finished main loop
2021-12-01 23:43:02,055 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutdown simulation
2021-12-01 23:43:02,055 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder services
2021-12-01 23:43:02,059 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder
2021-12-01 23:43:06,931 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down the closed loop service
2021-12-01 23:43:06,931 [Thread-102  ] [hbp_nrp_cle.] [INFO]  Shutting down the world simulation
2021-12-01 23:43:06,931 [Thread-102  ] [hbp_nrp_cle.] [INFO]  Robot control adapter stopped
2021-12-01 23:43:06,931 [Thread-102  ] [hbp_nrp_cle.] [INFO]  neuronal simulator ended
2021-12-01 23:43:08,934 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down get_transfer_functions service
2021-12-01 23:43:08,940 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down activate_transfer_function service
2021-12-01 23:43:08,943 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down add_transfer_function service
2021-12-01 23:43:08,947 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down set_transfer_function services
2021-12-01 23:43:08,950 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down delete_transfer_function services
2021-12-01 23:43:08,953 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down get_brain service
2021-12-01 23:43:08,957 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down set_brain service
2021-12-01 23:43:08,960 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-01 23:43:08,963 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-01 23:43:08,967 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down get_CSV_recorders_files service
2021-12-01 23:43:08,970 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down clean_CSV_recorders_files service
2021-12-01 23:43:08,974 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down get_robots service
2021-12-01 23:43:08,978 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down add_robot service
2021-12-01 23:43:08,982 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down delete_robot service
2021-12-01 23:43:08,985 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down set_robot_initial_pose service
2021-12-01 23:43:08,988 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down prepare_custom_model service
2021-12-01 23:43:09,029 [Thread-102  ] [hbp_nrp_cle.] [INFO]  Stopping Gazebo web client communication adapter
Stopping node:  OK.
2021-12-01 23:43:09,035 [Thread-102  ] [hbp_nrp_cle.] [INFO]  Stopping gzserver
Stopping 4039:  OK.
2021-12-01 23:43:09,046 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down ROS notificator
2021-12-01 23:43:09,046 [Thread-102  ] [hbp_nrp_cles] [INFO]  Unregister error/transfer_function topic
2021-12-01 23:43:09,046 [Thread-102  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/cle_error...
2021-12-01 23:43:09,050 [Thread-102  ] [hbp_nrp_cles] [INFO]  Unregister status topic
2021-12-01 23:43:09,050 [Thread-102  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/status...
2021-12-01 23:43:09,053 [/clock      ] [rospy.intern] [INFO]  topic[/clock] removing connection to http://148.187.32.7:40647/
2021-12-01 23:43:09,055 [Thread-102  ] [hbp_nrp_cles] [INFO]  Cleaning up ROS nodes and services
killing /gazebo
killed
2021-12-01 23:44:42,589 [Thread-130  ] [hbp_nrp_cles] [INFO]  Create new simulation request
2021-12-01 23:44:42,589 [Thread-130  ] [hbp_nrp_cles] [INFO]  Preparing new simulation with /tmp/nrp.3.tuzs4cex/experiment_configuration.exc config file
2021-12-01 23:44:42,597 [Thread-130  ] [SimConfig   ] [INFO]  Bibi absolute path: /tmp/nrp.3.tuzs4cex/bibi_config.bibi
2021-12-01 23:44:42,599 [Thread-130  ] [SimConfig   ] [INFO]  Gazebo's lockstep mode set to False
2021-12-01 23:44:42,599 [Thread-130  ] [SimConfig   ] [INFO]  Using physics engine ode
2021-12-01 23:44:42,600 [Thread-130  ] [hbp_nrp_cles] [INFO]  Starting the experiment closed loop engine.
2021-12-01 23:44:42,600 [Thread-130  ] [hbp_nrp_cles] [INFO]  Path is /tmp/nrp.3.tuzs4cex
2021-12-01 23:44:42,600 [Thread-130  ] [hbp_nrp_cles] [INFO]  No RNG seed specified in the exc, using random value.
2021-12-01 23:44:42,600 [Thread-130  ] [hbp_nrp_cles] [INFO]  RNG seed = 2965684130148442560
2021-12-01 23:44:42,600 [Thread-130  ] [hbp_nrp_cles] [INFO]  Setting up backend Notificator
2021-12-01 23:44:42,607 [Thread-130  ] [hbp_nrp_cles] [INFO]  ROS notificator initialized
2021-12-01 23:44:42,607 [Thread-130  ] [hbp_nrp_cles] [INFO]  Creating CLE Server
2021-12-01 23:44:42,632 [Thread-130  ] [hbp_nrp_cles] [INFO]  gzserver arguments:  --seed 2965684130148442560 -e ode /tmp/nrp.3.tuzs4cex/virtual_room.sdf
2021-12-01 23:44:42,632 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Starting gzserver
Found /home_daint/bbpnrsoa/.local/bin/gzserver
Starting gzserver:  OK.

[0m[ INFO] [1638398685.351329139]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...[0m
[0m[ INFO] [1638398685.358482324]: Finished loading Gazebo ROS API Plugin.[0m
[0m[ INFO] [1638398685.380972138]: Gazebo ROS Recording Plugin initialized.[0m
[0m[ INFO] [1638398685.396363143]: Gazebo ROS Playback Plugin initialized.[0m
2021-12-01 23:44:46,093 [Thread-134  ] [rospy.intern] [INFO]  topic[/clock] adding connection to [http://148.187.32.7:36659/], count 0
2021-12-01 23:44:46,490 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Restarting Gazebo web client communication adapter
[0m[ INFO] [1638398686.120676509]: waitForService: Service [/gazebo/set_physics_properties] is now available.[0m
[0m[ INFO] [1638398686.302596190]: Physics dynamic reconfigure ready.[0m
Found /home_daint/bbpnrsoa/nrp/src/gzweb/gzbridge/server.js
Starting node:  OK.

2021-12-01 23:44:48,509 [Thread-130  ] [hbp_nrp_cles] [INFO]  Non-existent textures or folder!
Pose message filter parameters: 
  minimum seconds between successive messages: 0.02
  minimum XYZ distance squared between successive messages: 0.00001
  minimum Quaternion distance squared between successive messages: 0.0001
--------------------------------------------------------------
Wed Dec 01 2021 23:44:48 GMT+0100 (CET) gzbridge Websocket is listening on port: 7681
2021-12-01 23:44:48,815 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Adding robot husky from /tmp/nrp.3.tuzs4cex/husky/model.sdf: 
2021-12-01 23:44:49,034 [Thread-130  ] [hbp_nrp_cles] [INFO]  Preparing CLE Server
2021-12-01 23:44:49,066 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Robot control adapter initialized
2021-12-01 23:44:49,090 [Thread-130  ] [hbp_nrp_cle.] [INFO]  neuronal simulator initialized
2021-12-01 23:44:49,091 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Initialize transfer functions node tfnode
2021-12-01 23:44:49,091 [Thread-130  ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-01 23:44:49,091 [Thread-130  ] [hbp_nrp_cle.] [WARNING]  ROS node already initialized with another name
2021-12-01 23:44:49,091 [Thread-130  ] [hbp_nrp_cle ] [INFO]  Recreating brain from file /tmp/nrp.3.tuzs4cex/hpctest122020.py
2021-12-01 23:44:51,285 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Saving brain source
2021-12-01 23:44:51,285 [Thread-130  ] [hbp_nrp_cle ] [INFO]  Resetting TFs
2021-12-01 23:44:51,285 [Thread-130  ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-01 23:44:51,286 [Thread-130  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-01 23:44:51,296 [Thread-130  ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-01 23:44:51,299 [Thread-137  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] adding connection to [http://148.187.32.7:44727/], count 0
2021-12-01 23:44:51,300 [Thread-136  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] adding connection to [http://148.187.32.7:43859/], count 1
2021-12-01 23:44:51,302 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] adding connection to [/ros_cle_simulation_281_1638398013009], count 0
2021-12-01 23:44:51,303 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] adding connection to [/nrp_backend], count 1
2021-12-01 23:44:51,305 [Thread-130  ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-01 23:44:51,361 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Initialize transfer function all_neurons_spike_monitor monitors (root).record
2021-12-01 23:44:51,420 [Thread-130  ] [hbp_nrp_cle.] [ERROR]  Error while loading new transfer function
2021-12-01 23:44:51,420 [Thread-130  ] [hbp_nrp_cle.] [ERROR]  Out of range float values are not JSON compliant
Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 471, in prepare_body
    body = complexjson.dumps(json, allow_nan=False)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Out of range float values are not JSON compliant

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/__init__.py", line 472, in set_transfer_function
    config.active_node.initialize_tf(tf, activation)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_TransferFunctionManager.py", line 285, in initialize_tf
    tf.params[i] = tf.params[i].create_adapter(self)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_Neuron2Robot.py", line 116, in create_adapter
    return adapter.register_spike_sink(neurons,
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 132, in register_spike_sink
    device = self.__register_device(populations, spike_detector_type, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 112, in __register_device
    device = concrete_type.create_new_device_group(populations, self._nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 72, in create_new_device_group
    return NestDeviceGroup.create_new_device_group(populations, cls, nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestDeviceGroup.py", line 58, in create_new_device_group
    device = nested_device_type.create_new_device(
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 59, in create_new_device
    return cls(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegratorTypes.py", line 83, in __init__
    super(NestLeakyIntegratorAlpha, self).__init__(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 73, in __init__
    self.create_device()
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 103, in create_device
    self._cell = self._nest_client.create_device(self._get_cell_type(),
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 79, in create_device
    return self.Create(model=device_model, n=n, params=parameters)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 24, in method
    response = requests.post(self.url + 'api/' + call, json=kwargs, headers=self.headers)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 117, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 528, in request
    prep = self.prepare_request(req)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 456, in prepare_request
    p.prepare(
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 319, in prepare
    self.prepare_body(data, files, json)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 473, in prepare_body
    raise InvalidJSONError(ve, request=self)
requests.exceptions.InvalidJSONError: Out of range float values are not JSON compliant
2021-12-01 23:44:51,421 [Thread-130  ] [hbp_nrp_cles] [ERROR]  all_neurons_spike_monitor: 'Out of range float values are not JSON compliant' (TF Loading Exception)
2021-12-01 23:44:51,426 [Thread-130  ] [hbp_nrp_cles] [INFO]  CLELauncher Finished.
2021-12-01 23:44:51,432 [Thread-130  ] [hbp_nrp_cles] [INFO]  Initialization done
2021-12-01 23:44:51,433 [Thread-130  ] [hbp_nrp_cles] [INFO]  Spawning new thread that will manage the experiment execution.
2021-12-01 23:44:51,506 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state created to state paused...
2021-12-01 23:44:51,506 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'initialize' before transition.
2021-12-01 23:44:51,507 [/ros_cle_sim] [transitions.] [INFO]  Exited state created
2021-12-01 23:44:51,507 [/ros_cle_sim] [transitions.] [INFO]  Entered state paused
2021-12-01 23:44:51,507 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabdb008460>' after transition.
2021-12-01 23:44:52,530 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] adding connection to [/rosbridge_websocket], count 0
2021-12-01 23:44:52,561 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state paused to state started...
2021-12-01 23:44:52,562 [CLE_THREAD  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-01 23:44:52,562 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'start' before transition.
2021-12-01 23:44:52,562 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop started
2021-12-01 23:44:52,562 [/ros_cle_sim] [transitions.] [INFO]  Exited state paused
2021-12-01 23:44:52,563 [/ros_cle_sim] [transitions.] [INFO]  Entered state started
2021-12-01 23:44:52,563 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabdb0085b0>' after transition.
2021-12-01 23:44:52,575 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] adding connection to [/rosbridge_websocket], count 0
2021-12-01 23:45:32,620 [CLE_THREAD  ] [transitions.] [INFO]  Initiating transition from state started to state stopped...
2021-12-01 23:45:32,621 [CLE_THREAD  ] [transitions.] [INFO]  Executing callback 'stop' before transition.
2021-12-01 23:45:32,621 [CLE_THREAD  ] [transitions.] [INFO]  Exited state started
2021-12-01 23:45:32,621 [CLE_THREAD  ] [transitions.] [INFO]  Entered state stopped
2021-12-01 23:45:32,621 [CLE_THREAD  ] [hbp_nrp_comm] [INFO]  Changing simulation lifecycle state from started to stopped
2021-12-01 23:45:33,622 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/3/lifecycle...
2021-12-01 23:45:33,623 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] removing connection to http://148.187.32.7:44727/
2021-12-01 23:45:33,623 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] removing connection to http://148.187.32.7:43859/
2021-12-01 23:45:33,627 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/3/lifecycle...
2021-12-01 23:45:33,627 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] removing connection to /ros_cle_simulation_281_1638398013009
2021-12-01 23:45:33,627 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] removing connection to /nrp_backend
2021-12-01 23:45:33,631 [CLE_THREAD  ] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabdb0088e0>' after transition.
2021-12-01 23:45:33,631 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop ended
2021-12-01 23:45:33,813 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] removing connection to /rosbridge_websocket
2021-12-01 23:45:33,813 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] removing connection to /rosbridge_websocket
2021-12-01 23:45:34,624 [Thread-143  ] [hbp_nrp_cles] [INFO]  Finished main loop
2021-12-01 23:45:34,624 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutdown simulation
2021-12-01 23:45:34,624 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder services
2021-12-01 23:45:34,627 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder
2021-12-01 23:45:36,599 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down the closed loop service
2021-12-01 23:45:36,599 [Thread-143  ] [hbp_nrp_cle.] [INFO]  Shutting down the world simulation
2021-12-01 23:45:36,599 [Thread-143  ] [hbp_nrp_cle.] [INFO]  Robot control adapter stopped
2021-12-01 23:45:36,599 [Thread-143  ] [hbp_nrp_cle.] [INFO]  neuronal simulator ended
2021-12-01 23:45:38,601 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down get_transfer_functions service
2021-12-01 23:45:38,609 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down activate_transfer_function service
2021-12-01 23:45:38,613 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down add_transfer_function service
2021-12-01 23:45:38,616 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down set_transfer_function services
2021-12-01 23:45:38,620 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down delete_transfer_function services
2021-12-01 23:45:38,623 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down get_brain service
2021-12-01 23:45:38,627 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down set_brain service
2021-12-01 23:45:38,630 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-01 23:45:38,634 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-01 23:45:38,637 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down get_CSV_recorders_files service
2021-12-01 23:45:38,640 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down clean_CSV_recorders_files service
2021-12-01 23:45:38,644 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down get_robots service
2021-12-01 23:45:38,647 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down add_robot service
2021-12-01 23:45:38,651 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down delete_robot service
2021-12-01 23:45:38,654 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down set_robot_initial_pose service
2021-12-01 23:45:38,657 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down prepare_custom_model service
2021-12-01 23:45:38,698 [Thread-143  ] [hbp_nrp_cle.] [INFO]  Stopping Gazebo web client communication adapter
Stopping node:  OK.
2021-12-01 23:45:38,704 [Thread-143  ] [hbp_nrp_cle.] [INFO]  Stopping gzserver
Stopping 5129:  OK.
2021-12-01 23:45:38,716 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down ROS notificator
2021-12-01 23:45:38,716 [Thread-143  ] [hbp_nrp_cles] [INFO]  Unregister error/transfer_function topic
2021-12-01 23:45:38,716 [Thread-143  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/cle_error...
2021-12-01 23:45:38,720 [Thread-143  ] [hbp_nrp_cles] [INFO]  Unregister status topic
2021-12-01 23:45:38,720 [Thread-143  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/status...
2021-12-01 23:45:38,723 [/clock      ] [rospy.intern] [INFO]  topic[/clock] removing connection to http://148.187.32.7:36659/
2021-12-01 23:45:38,725 [Thread-143  ] [hbp_nrp_cles] [INFO]  Cleaning up ROS nodes and services
killing /gazebo
killed
2021-12-01 23:47:15,703 [Thread-171  ] [hbp_nrp_cles] [INFO]  Create new simulation request
2021-12-01 23:47:15,704 [Thread-171  ] [hbp_nrp_cles] [INFO]  Preparing new simulation with /tmp/nrp.4.wjzgkizv/experiment_configuration.exc config file
2021-12-01 23:47:15,711 [Thread-171  ] [SimConfig   ] [INFO]  Bibi absolute path: /tmp/nrp.4.wjzgkizv/bibi_config.bibi
2021-12-01 23:47:15,713 [Thread-171  ] [SimConfig   ] [INFO]  Gazebo's lockstep mode set to False
2021-12-01 23:47:15,713 [Thread-171  ] [SimConfig   ] [INFO]  Using physics engine ode
2021-12-01 23:47:15,714 [Thread-171  ] [hbp_nrp_cles] [INFO]  Starting the experiment closed loop engine.
2021-12-01 23:47:15,714 [Thread-171  ] [hbp_nrp_cles] [INFO]  Path is /tmp/nrp.4.wjzgkizv
2021-12-01 23:47:15,714 [Thread-171  ] [hbp_nrp_cles] [INFO]  No RNG seed specified in the exc, using random value.
2021-12-01 23:47:15,714 [Thread-171  ] [hbp_nrp_cles] [INFO]  RNG seed = 2176151155456591026
2021-12-01 23:47:15,714 [Thread-171  ] [hbp_nrp_cles] [INFO]  Setting up backend Notificator
2021-12-01 23:47:15,721 [Thread-171  ] [hbp_nrp_cles] [INFO]  ROS notificator initialized
2021-12-01 23:47:15,721 [Thread-171  ] [hbp_nrp_cles] [INFO]  Creating CLE Server
2021-12-01 23:47:15,746 [Thread-171  ] [hbp_nrp_cles] [INFO]  gzserver arguments:  --seed 2176151155456591026 -e ode /tmp/nrp.4.wjzgkizv/virtual_room.sdf
2021-12-01 23:47:15,746 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Starting gzserver
Found /home_daint/bbpnrsoa/.local/bin/gzserver
Starting gzserver:  OK.

[0m[ INFO] [1638398838.473529497]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...[0m
[0m[ INFO] [1638398838.479751905]: Finished loading Gazebo ROS API Plugin.[0m
[0m[ INFO] [1638398838.500770674]: Gazebo ROS Recording Plugin initialized.[0m
[0m[ INFO] [1638398838.516535426]: Gazebo ROS Playback Plugin initialized.[0m
2021-12-01 23:47:19,180 [Thread-175  ] [rospy.intern] [INFO]  topic[/clock] adding connection to [http://148.187.32.7:34485/], count 0
2021-12-01 23:47:19,604 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Restarting Gazebo web client communication adapter
[0m[ INFO] [1638398839.201083141]: waitForService: Service [/gazebo/set_physics_properties] is now available.[0m
[0m[ INFO] [1638398839.393123148]: Physics dynamic reconfigure ready.[0m
Found /home_daint/bbpnrsoa/nrp/src/gzweb/gzbridge/server.js
Starting node:  OK.

2021-12-01 23:47:21,636 [Thread-171  ] [hbp_nrp_cles] [INFO]  Non-existent textures or folder!
Pose message filter parameters: 
  minimum seconds between successive messages: 0.02
  minimum XYZ distance squared between successive messages: 0.00001
  minimum Quaternion distance squared between successive messages: 0.0001
--------------------------------------------------------------
Wed Dec 01 2021 23:47:21 GMT+0100 (CET) gzbridge Websocket is listening on port: 7681
2021-12-01 23:47:22,007 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Adding robot husky from /tmp/nrp.4.wjzgkizv/husky/model.sdf: 
2021-12-01 23:47:22,336 [Thread-171  ] [hbp_nrp_cles] [INFO]  Preparing CLE Server
2021-12-01 23:47:22,365 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Robot control adapter initialized
2021-12-01 23:47:22,393 [Thread-171  ] [hbp_nrp_cle.] [INFO]  neuronal simulator initialized
2021-12-01 23:47:22,393 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Initialize transfer functions node tfnode
2021-12-01 23:47:22,393 [Thread-171  ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-01 23:47:22,394 [Thread-171  ] [hbp_nrp_cle.] [WARNING]  ROS node already initialized with another name
2021-12-01 23:47:22,394 [Thread-171  ] [hbp_nrp_cle ] [INFO]  Recreating brain from file /tmp/nrp.4.wjzgkizv/hpctest122020.py
2021-12-01 23:47:23,600 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Saving brain source
2021-12-01 23:47:23,600 [Thread-171  ] [hbp_nrp_cle ] [INFO]  Resetting TFs
2021-12-01 23:47:23,600 [Thread-171  ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-01 23:47:23,600 [Thread-171  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-01 23:47:23,611 [Thread-171  ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-01 23:47:23,614 [Thread-178  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] adding connection to [http://148.187.32.7:44727/], count 0
2021-12-01 23:47:23,614 [Thread-177  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] adding connection to [http://148.187.32.7:43859/], count 0
2021-12-01 23:47:23,616 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] adding connection to [/ros_cle_simulation_281_1638398013009], count 0
2021-12-01 23:47:23,619 [Thread-171  ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-01 23:47:23,664 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] adding connection to [/nrp_backend], count 1
2021-12-01 23:47:23,681 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Initialize transfer function all_neurons_spike_monitor monitors (root).record
2021-12-01 23:47:23,743 [Thread-171  ] [hbp_nrp_cle.] [ERROR]  Error while loading new transfer function
2021-12-01 23:47:23,743 [Thread-171  ] [hbp_nrp_cle.] [ERROR]  Out of range float values are not JSON compliant
Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 471, in prepare_body
    body = complexjson.dumps(json, allow_nan=False)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Out of range float values are not JSON compliant

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/__init__.py", line 472, in set_transfer_function
    config.active_node.initialize_tf(tf, activation)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_TransferFunctionManager.py", line 285, in initialize_tf
    tf.params[i] = tf.params[i].create_adapter(self)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_Neuron2Robot.py", line 116, in create_adapter
    return adapter.register_spike_sink(neurons,
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 132, in register_spike_sink
    device = self.__register_device(populations, spike_detector_type, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 112, in __register_device
    device = concrete_type.create_new_device_group(populations, self._nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 72, in create_new_device_group
    return NestDeviceGroup.create_new_device_group(populations, cls, nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestDeviceGroup.py", line 58, in create_new_device_group
    device = nested_device_type.create_new_device(
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 59, in create_new_device
    return cls(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegratorTypes.py", line 83, in __init__
    super(NestLeakyIntegratorAlpha, self).__init__(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 73, in __init__
    self.create_device()
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 103, in create_device
    self._cell = self._nest_client.create_device(self._get_cell_type(),
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 79, in create_device
    return self.Create(model=device_model, n=n, params=parameters)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 24, in method
    response = requests.post(self.url + 'api/' + call, json=kwargs, headers=self.headers)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 117, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 528, in request
    prep = self.prepare_request(req)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 456, in prepare_request
    p.prepare(
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 319, in prepare
    self.prepare_body(data, files, json)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 473, in prepare_body
    raise InvalidJSONError(ve, request=self)
requests.exceptions.InvalidJSONError: Out of range float values are not JSON compliant
2021-12-01 23:47:23,744 [Thread-171  ] [hbp_nrp_cles] [ERROR]  all_neurons_spike_monitor: 'Out of range float values are not JSON compliant' (TF Loading Exception)
2021-12-01 23:47:23,750 [Thread-171  ] [hbp_nrp_cles] [INFO]  CLELauncher Finished.
2021-12-01 23:47:23,757 [Thread-171  ] [hbp_nrp_cles] [INFO]  Initialization done
2021-12-01 23:47:23,757 [Thread-171  ] [hbp_nrp_cles] [INFO]  Spawning new thread that will manage the experiment execution.
2021-12-01 23:47:23,833 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state created to state paused...
2021-12-01 23:47:23,833 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'initialize' before transition.
2021-12-01 23:47:23,833 [/ros_cle_sim] [transitions.] [INFO]  Exited state created
2021-12-01 23:47:23,833 [/ros_cle_sim] [transitions.] [INFO]  Entered state paused
2021-12-01 23:47:23,833 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9f22820>' after transition.
2021-12-01 23:47:24,853 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] adding connection to [/rosbridge_websocket], count 0
2021-12-01 23:47:24,867 [Thread-4    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] adding connection to [/rosbridge_websocket], count 0
2021-12-01 23:47:24,885 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state paused to state started...
2021-12-01 23:47:24,886 [CLE_THREAD  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-01 23:47:24,886 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'start' before transition.
2021-12-01 23:47:24,886 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop started
2021-12-01 23:47:24,886 [/ros_cle_sim] [transitions.] [INFO]  Exited state paused
2021-12-01 23:47:24,887 [/ros_cle_sim] [transitions.] [INFO]  Entered state started
2021-12-01 23:47:24,887 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9f226d0>' after transition.
2021-12-01 23:47:52,006 [CLE_THREAD  ] [transitions.] [INFO]  Initiating transition from state started to state stopped...
2021-12-01 23:47:52,006 [CLE_THREAD  ] [transitions.] [INFO]  Executing callback 'stop' before transition.
2021-12-01 23:47:52,007 [CLE_THREAD  ] [transitions.] [INFO]  Exited state started
2021-12-01 23:47:52,007 [CLE_THREAD  ] [transitions.] [INFO]  Entered state stopped
2021-12-01 23:47:52,007 [CLE_THREAD  ] [hbp_nrp_comm] [INFO]  Changing simulation lifecycle state from started to stopped
2021-12-01 23:47:53,008 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/4/lifecycle...
2021-12-01 23:47:53,008 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] removing connection to http://148.187.32.7:44727/
2021-12-01 23:47:53,009 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] removing connection to http://148.187.32.7:43859/
2021-12-01 23:47:53,013 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/4/lifecycle...
2021-12-01 23:47:53,013 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] removing connection to /ros_cle_simulation_281_1638398013009
2021-12-01 23:47:53,013 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] removing connection to /nrp_backend
2021-12-01 23:47:53,017 [CLE_THREAD  ] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9f22e50>' after transition.
2021-12-01 23:47:53,017 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop ended
2021-12-01 23:47:53,129 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] removing connection to /rosbridge_websocket
2021-12-01 23:47:53,130 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] removing connection to /rosbridge_websocket
2021-12-01 23:47:54,009 [Thread-184  ] [hbp_nrp_cles] [INFO]  Finished main loop
2021-12-01 23:47:54,009 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutdown simulation
2021-12-01 23:47:54,010 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder services
2021-12-01 23:47:54,013 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder
2021-12-01 23:47:58,886 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down the closed loop service
2021-12-01 23:47:58,886 [Thread-184  ] [hbp_nrp_cle.] [INFO]  Shutting down the world simulation
2021-12-01 23:47:58,887 [Thread-184  ] [hbp_nrp_cle.] [INFO]  Robot control adapter stopped
2021-12-01 23:47:58,887 [Thread-184  ] [hbp_nrp_cle.] [INFO]  neuronal simulator ended
2021-12-01 23:48:00,888 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down get_transfer_functions service
2021-12-01 23:48:00,895 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down activate_transfer_function service
2021-12-01 23:48:00,899 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down add_transfer_function service
2021-12-01 23:48:00,902 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down set_transfer_function services
2021-12-01 23:48:00,906 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down delete_transfer_function services
2021-12-01 23:48:00,909 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down get_brain service
2021-12-01 23:48:00,913 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down set_brain service
2021-12-01 23:48:00,917 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-01 23:48:00,920 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-01 23:48:00,923 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down get_CSV_recorders_files service
2021-12-01 23:48:00,927 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down clean_CSV_recorders_files service
2021-12-01 23:48:00,930 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down get_robots service
2021-12-01 23:48:00,934 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down add_robot service
2021-12-01 23:48:00,937 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down delete_robot service
2021-12-01 23:48:00,941 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down set_robot_initial_pose service
2021-12-01 23:48:00,944 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down prepare_custom_model service
2021-12-01 23:48:00,989 [Thread-184  ] [hbp_nrp_cle.] [INFO]  Stopping Gazebo web client communication adapter
Stopping node:  OK.
2021-12-01 23:48:00,995 [Thread-184  ] [hbp_nrp_cle.] [INFO]  Stopping gzserver
Stopping 6220:  OK.
2021-12-01 23:48:01,006 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down ROS notificator
2021-12-01 23:48:01,006 [Thread-184  ] [hbp_nrp_cles] [INFO]  Unregister error/transfer_function topic
2021-12-01 23:48:01,006 [Thread-184  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/cle_error...
2021-12-01 23:48:01,010 [Thread-184  ] [hbp_nrp_cles] [INFO]  Unregister status topic
2021-12-01 23:48:01,010 [Thread-184  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/status...
2021-12-01 23:48:01,014 [/clock      ] [rospy.intern] [INFO]  topic[/clock] removing connection to http://148.187.32.7:34485/
2021-12-01 23:48:01,016 [Thread-184  ] [hbp_nrp_cles] [INFO]  Cleaning up ROS nodes and services
killing /gazebo
killed
