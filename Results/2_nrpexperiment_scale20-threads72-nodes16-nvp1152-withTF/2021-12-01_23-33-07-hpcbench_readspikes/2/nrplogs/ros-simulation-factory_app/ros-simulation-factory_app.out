/home_daint/bbpnrsoa
/home_daint/bbpnrsoa/nrp/src/GazeboRosPackages/devel/lib/python3/dist-packages:/opt/ros/noetic/lib/python3/dist-packages:/home_daint/bbpnrsoa/nrp/src/GazeboRosPackages/devel/lib/python3.8/dist-packages:/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle:/home_daint/bbpnrsoa/nrp/src/ExperimentControl/hbp_nrp_excontrol:/home_daint/bbpnrsoa/nrp/src/ExDBackend/hbp_nrp_backend:/home_daint/bbpnrsoa/nrp/src/ExDBackend/hbp_nrp_cleserver:/home_daint/bbpnrsoa/nrp/src/ExDBackend/hbp_nrp_commons:/home_daint/bbpnrsoa/nrp/src/ExDBackend/hbp_nrp_watchdog:/home_daint/bbpnrsoa/nrp/src/ExDBackend/hbp-flask-restful-swagger-master:/home_daint/bbpnrsoa/nrp/src/VirtualCoach/hbp_nrp_virtual_coach:/home_daint/bbpnrsoa/nrp/src/BrainSimulation/hbp_nrp_distributed_nest:/home_daint/bbpnrsoa/.local/lib/python3.8/site-packages:/home_daint/bbpnrsoa/.local/lib/x86_64-linux-gnu/python3.8/site-packages
[1;31m+-------------------------- Neurorobotics Platform warning ---------------------------+
| Dear Neurorobotics user, your PYTHONPATH contains previous paths.                   |
| This might cause the Neurorobotics Platform to malfunction.                         |
| If you are experiencing problems (like MPI.so not finding function references), add |
|   export PYTHONPATH=                                                                |
| to your ~/.bashrc                                                                   |
+-------------------------------------------------------------------------------------+[0m
[INFO] [2021.12.2 0:0:59 /home_daint/bbpnrsoa/nrp/src/nest-simulator/nestkernel/rng_manager.cpp:217 @ Network::create_rngs_] : Creating default RNGs
[INFO] [2021.12.2 0:0:59 /home_daint/bbpnrsoa/nrp/src/nest-simulator/nestkernel/rng_manager.cpp:260 @ Network::create_grng_] : Creating new default global RNG

              -- N E S T --
  Copyright (C) 2004 The NEST Initiative

 Version: nest-2.18.0
 Built: Nov 15 2021 12:00:34

 This program is provided AS IS and comes with
 NO WARRANTY. See the file LICENSE for details.

 Problems or suggestions?
   Visit https://www.nest-simulator.org

 Type 'nest.help()' to find out more about NEST.

CSAConnector: libneurosim support not available in NEST.
Falling back on PyNN's default CSAConnector.
Please re-compile NEST using --with-libneurosim=PATH
2021-12-02 00:01:00,903 [Thread-3    ] [rospy.intern] [INFO]  topic[/rosout] adding connection to [/rosout], count 0
2021-12-02 00:01:43,500 [Thread-7    ] [hbp_nrp_cles] [INFO]  Create new simulation request
2021-12-02 00:01:43,500 [Thread-7    ] [hbp_nrp_cles] [INFO]  Preparing new simulation with /tmp/nrp.0.h5q54xek/experiment_configuration.exc config file
2021-12-02 00:01:43,515 [Thread-7    ] [SimConfig   ] [INFO]  Bibi absolute path: /tmp/nrp.0.h5q54xek/bibi_config.bibi
2021-12-02 00:01:43,518 [Thread-7    ] [SimConfig   ] [INFO]  Gazebo's lockstep mode set to False
2021-12-02 00:01:43,518 [Thread-7    ] [SimConfig   ] [INFO]  Using physics engine ode
2021-12-02 00:01:43,518 [Thread-7    ] [hbp_nrp_cles] [INFO]  Starting the experiment closed loop engine.
2021-12-02 00:01:43,518 [Thread-7    ] [hbp_nrp_cles] [INFO]  Path is /tmp/nrp.0.h5q54xek
2021-12-02 00:01:43,518 [Thread-7    ] [hbp_nrp_cles] [INFO]  No RNG seed specified in the exc, using random value.
2021-12-02 00:01:43,519 [Thread-7    ] [hbp_nrp_cles] [INFO]  RNG seed = 1443704418887705906
2021-12-02 00:01:43,519 [Thread-7    ] [hbp_nrp_cles] [INFO]  Setting up backend Notificator
2021-12-02 00:01:43,525 [Thread-7    ] [hbp_nrp_cles] [INFO]  ROS notificator initialized
2021-12-02 00:01:43,525 [Thread-7    ] [hbp_nrp_cles] [INFO]  Creating CLE Server
2021-12-02 00:01:43,550 [Thread-7    ] [hbp_nrp_cles] [INFO]  gzserver arguments:  --seed 1443704418887705906 -e ode /tmp/nrp.0.h5q54xek/virtual_room.sdf
2021-12-02 00:01:43,550 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Starting gzserver
Found /home_daint/bbpnrsoa/.local/bin/gzserver
Starting gzserver:  OK.

[0m[ INFO] [1638399708.215143917]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...[0m
[0m[ INFO] [1638399708.221594047]: Finished loading Gazebo ROS API Plugin.[0m
[0m[ INFO] [1638399708.246429060]: Gazebo ROS Recording Plugin initialized.[0m
[0m[ INFO] [1638399708.261210357]: Gazebo ROS Playback Plugin initialized.[0m
2021-12-02 00:01:49,020 [Thread-11   ] [rospy.intern] [INFO]  topic[/clock] adding connection to [http://148.187.33.75:35075/], count 0
2021-12-02 00:01:49,229 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Restarting Gazebo web client communication adapter
[0m[ INFO] [1638399708.988104213]: waitForService: Service [/gazebo/set_physics_properties] is now available.[0m
[0m[ INFO] [1638399709.168994717]: Physics dynamic reconfigure ready.[0m
Found /home_daint/bbpnrsoa/nrp/src/gzweb/gzbridge/server.js
Starting node:  OK.

2021-12-02 00:01:51,263 [Thread-7    ] [hbp_nrp_cles] [INFO]  Non-existent textures or folder!
2021-12-02 00:01:51,661 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Adding robot husky from /tmp/nrp.0.h5q54xek/husky/model.sdf: 
Pose message filter parameters: 
  minimum seconds between successive messages: 0.02
  minimum XYZ distance squared between successive messages: 0.00001
  minimum Quaternion distance squared between successive messages: 0.0001
--------------------------------------------------------------
Thu Dec 02 2021 00:01:51 GMT+0100 (CET) gzbridge Websocket is listening on port: 7681
2021-12-02 00:01:52,142 [Thread-7    ] [hbp_nrp_cles] [INFO]  Preparing CLE Server
2021-12-02 00:01:52,172 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Robot control adapter initialized
2021-12-02 00:01:52,196 [Thread-7    ] [hbp_nrp_cle.] [INFO]  neuronal simulator initialized
2021-12-02 00:01:52,196 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Initialize transfer functions node tfnode
2021-12-02 00:01:52,196 [Thread-7    ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-02 00:01:52,196 [Thread-7    ] [hbp_nrp_cle.] [WARNING]  ROS node already initialized with another name
2021-12-02 00:01:52,197 [Thread-7    ] [hbp_nrp_cle ] [INFO]  Recreating brain from file /tmp/nrp.0.h5q54xek/hpctest122020.py
2021-12-02 00:02:08,679 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Saving brain source
2021-12-02 00:02:08,679 [Thread-7    ] [hbp_nrp_cle ] [INFO]  Resetting TFs
2021-12-02 00:02:08,679 [Thread-7    ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-02 00:02:08,679 [Thread-7    ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-02 00:02:08,691 [Thread-7    ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-02 00:02:08,694 [Thread-14   ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] adding connection to [http://148.187.33.75:45411/], count 0
2021-12-02 00:02:08,695 [Thread-13   ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] adding connection to [http://148.187.33.75:34935/], count 1
2021-12-02 00:02:08,696 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] adding connection to [/ros_cle_simulation_280_1638399660525], count 0
2021-12-02 00:02:08,700 [Thread-7    ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-02 00:02:08,729 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] adding connection to [/nrp_backend], count 1
2021-12-02 00:02:08,761 [Thread-7    ] [hbp_nrp_cle.] [INFO]  Initialize transfer function all_neurons_spike_monitor monitors (root).record
2021-12-02 00:02:08,826 [Thread-7    ] [hbp_nrp_cle.] [ERROR]  Error while loading new transfer function
2021-12-02 00:02:08,826 [Thread-7    ] [hbp_nrp_cle.] [ERROR]  Out of range float values are not JSON compliant
Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 471, in prepare_body
    body = complexjson.dumps(json, allow_nan=False)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Out of range float values are not JSON compliant

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/__init__.py", line 472, in set_transfer_function
    config.active_node.initialize_tf(tf, activation)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_TransferFunctionManager.py", line 285, in initialize_tf
    tf.params[i] = tf.params[i].create_adapter(self)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_Neuron2Robot.py", line 116, in create_adapter
    return adapter.register_spike_sink(neurons,
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 132, in register_spike_sink
    device = self.__register_device(populations, spike_detector_type, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 112, in __register_device
    device = concrete_type.create_new_device_group(populations, self._nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 72, in create_new_device_group
    return NestDeviceGroup.create_new_device_group(populations, cls, nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestDeviceGroup.py", line 58, in create_new_device_group
    device = nested_device_type.create_new_device(
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 59, in create_new_device
    return cls(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegratorTypes.py", line 83, in __init__
    super(NestLeakyIntegratorAlpha, self).__init__(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 73, in __init__
    self.create_device()
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 103, in create_device
    self._cell = self._nest_client.create_device(self._get_cell_type(),
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 79, in create_device
    return self.Create(model=device_model, n=n, params=parameters)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 24, in method
    response = requests.post(self.url + 'api/' + call, json=kwargs, headers=self.headers)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 117, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 528, in request
    prep = self.prepare_request(req)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 456, in prepare_request
    p.prepare(
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 319, in prepare
    self.prepare_body(data, files, json)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 473, in prepare_body
    raise InvalidJSONError(ve, request=self)
requests.exceptions.InvalidJSONError: Out of range float values are not JSON compliant
2021-12-02 00:02:08,833 [Thread-7    ] [hbp_nrp_cles] [ERROR]  all_neurons_spike_monitor: 'Out of range float values are not JSON compliant' (TF Loading Exception)
2021-12-02 00:02:08,838 [Thread-7    ] [hbp_nrp_cles] [INFO]  CLELauncher Finished.
2021-12-02 00:02:08,845 [Thread-7    ] [hbp_nrp_cles] [INFO]  Initialization done
2021-12-02 00:02:08,845 [Thread-7    ] [hbp_nrp_cles] [INFO]  Spawning new thread that will manage the experiment execution.
2021-12-02 00:02:08,916 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state created to state paused...
2021-12-02 00:02:08,916 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'initialize' before transition.
2021-12-02 00:02:08,916 [/ros_cle_sim] [transitions.] [INFO]  Exited state created
2021-12-02 00:02:08,916 [/ros_cle_sim] [transitions.] [INFO]  Entered state paused
2021-12-02 00:02:08,916 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9fd3400>' after transition.
2021-12-02 00:02:09,973 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state paused to state started...
2021-12-02 00:02:09,973 [CLE_THREAD  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-02 00:02:09,974 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'start' before transition.
2021-12-02 00:02:09,974 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop started
2021-12-02 00:02:09,974 [/ros_cle_sim] [transitions.] [INFO]  Exited state paused
2021-12-02 00:02:09,974 [/ros_cle_sim] [transitions.] [INFO]  Entered state started
2021-12-02 00:02:09,974 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9fd35e0>' after transition.
2021-12-02 00:02:10,466 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] adding connection to [/rosbridge_websocket], count 0
2021-12-02 00:02:10,488 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] adding connection to [/rosbridge_websocket], count 0
2021-12-02 00:04:24,881 [CLE_THREAD  ] [transitions.] [INFO]  Initiating transition from state started to state stopped...
2021-12-02 00:04:24,881 [CLE_THREAD  ] [transitions.] [INFO]  Executing callback 'stop' before transition.
2021-12-02 00:04:24,881 [CLE_THREAD  ] [transitions.] [INFO]  Exited state started
2021-12-02 00:04:24,882 [CLE_THREAD  ] [transitions.] [INFO]  Entered state stopped
2021-12-02 00:04:24,882 [CLE_THREAD  ] [hbp_nrp_comm] [INFO]  Changing simulation lifecycle state from started to stopped
2021-12-02 00:04:25,883 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/0/lifecycle...
2021-12-02 00:04:25,883 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] removing connection to http://148.187.33.75:45411/
2021-12-02 00:04:25,884 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] removing connection to http://148.187.33.75:34935/
2021-12-02 00:04:25,888 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/0/lifecycle...
2021-12-02 00:04:25,888 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] removing connection to /ros_cle_simulation_280_1638399660525
2021-12-02 00:04:25,888 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/0/lifecycle] removing connection to /nrp_backend
2021-12-02 00:04:25,892 [CLE_THREAD  ] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9fd3910>' after transition.
2021-12-02 00:04:25,892 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop ended
2021-12-02 00:04:26,230 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] removing connection to /rosbridge_websocket
2021-12-02 00:04:26,230 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] removing connection to /rosbridge_websocket
2021-12-02 00:04:26,884 [Thread-20   ] [hbp_nrp_cles] [INFO]  Finished main loop
2021-12-02 00:04:26,884 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutdown simulation
2021-12-02 00:04:26,885 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder services
2021-12-02 00:04:26,888 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder
2021-12-02 00:04:29,397 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down the closed loop service
2021-12-02 00:04:29,397 [Thread-20   ] [hbp_nrp_cle.] [INFO]  Shutting down the world simulation
2021-12-02 00:04:29,397 [Thread-20   ] [hbp_nrp_cle.] [INFO]  Robot control adapter stopped
2021-12-02 00:04:29,397 [Thread-20   ] [hbp_nrp_cle.] [INFO]  neuronal simulator ended
2021-12-02 00:04:31,399 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down get_transfer_functions service
2021-12-02 00:04:31,406 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down activate_transfer_function service
2021-12-02 00:04:31,409 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down add_transfer_function service
2021-12-02 00:04:31,412 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down set_transfer_function services
2021-12-02 00:04:31,415 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down delete_transfer_function services
2021-12-02 00:04:31,418 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down get_brain service
2021-12-02 00:04:31,422 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down set_brain service
2021-12-02 00:04:31,425 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-02 00:04:31,428 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-02 00:04:31,432 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down get_CSV_recorders_files service
2021-12-02 00:04:31,435 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down clean_CSV_recorders_files service
2021-12-02 00:04:31,438 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down get_robots service
2021-12-02 00:04:31,441 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down add_robot service
2021-12-02 00:04:31,444 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down delete_robot service
2021-12-02 00:04:31,447 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down set_robot_initial_pose service
2021-12-02 00:04:31,451 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down prepare_custom_model service
2021-12-02 00:04:31,490 [Thread-20   ] [hbp_nrp_cle.] [INFO]  Stopping Gazebo web client communication adapter
Stopping node:  OK.
2021-12-02 00:04:31,497 [Thread-20   ] [hbp_nrp_cle.] [INFO]  Stopping gzserver
Stopping 1843:  OK.
2021-12-02 00:04:31,513 [Thread-20   ] [hbp_nrp_cles] [INFO]  Shutting down ROS notificator
2021-12-02 00:04:31,513 [Thread-20   ] [hbp_nrp_cles] [INFO]  Unregister error/transfer_function topic
2021-12-02 00:04:31,513 [Thread-20   ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/cle_error...
2021-12-02 00:04:31,516 [/clock      ] [rospy.intern] [INFO]  topic[/clock] removing connection to http://148.187.33.75:35075/
2021-12-02 00:04:31,517 [Thread-20   ] [hbp_nrp_cles] [INFO]  Unregister status topic
2021-12-02 00:04:31,517 [Thread-20   ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/status...
2021-12-02 00:04:31,522 [Thread-20   ] [hbp_nrp_cles] [INFO]  Cleaning up ROS nodes and services
killing /gazebo
killed
2021-12-02 00:06:08,167 [Thread-48   ] [hbp_nrp_cles] [INFO]  Create new simulation request
2021-12-02 00:06:08,168 [Thread-48   ] [hbp_nrp_cles] [INFO]  Preparing new simulation with /tmp/nrp.1.1pamxhw9/experiment_configuration.exc config file
2021-12-02 00:06:08,175 [Thread-48   ] [SimConfig   ] [INFO]  Bibi absolute path: /tmp/nrp.1.1pamxhw9/bibi_config.bibi
2021-12-02 00:06:08,177 [Thread-48   ] [SimConfig   ] [INFO]  Gazebo's lockstep mode set to False
2021-12-02 00:06:08,178 [Thread-48   ] [SimConfig   ] [INFO]  Using physics engine ode
2021-12-02 00:06:08,178 [Thread-48   ] [hbp_nrp_cles] [INFO]  Starting the experiment closed loop engine.
2021-12-02 00:06:08,178 [Thread-48   ] [hbp_nrp_cles] [INFO]  Path is /tmp/nrp.1.1pamxhw9
2021-12-02 00:06:08,178 [Thread-48   ] [hbp_nrp_cles] [INFO]  No RNG seed specified in the exc, using random value.
2021-12-02 00:06:08,178 [Thread-48   ] [hbp_nrp_cles] [INFO]  RNG seed = 25259149801471620
2021-12-02 00:06:08,178 [Thread-48   ] [hbp_nrp_cles] [INFO]  Setting up backend Notificator
2021-12-02 00:06:08,185 [Thread-48   ] [hbp_nrp_cles] [INFO]  ROS notificator initialized
2021-12-02 00:06:08,185 [Thread-48   ] [hbp_nrp_cles] [INFO]  Creating CLE Server
2021-12-02 00:06:08,211 [Thread-48   ] [hbp_nrp_cles] [INFO]  gzserver arguments:  --seed 25259149801471620 -e ode /tmp/nrp.1.1pamxhw9/virtual_room.sdf
2021-12-02 00:06:08,211 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Starting gzserver
Found /home_daint/bbpnrsoa/.local/bin/gzserver
Starting gzserver:  OK.

[0m[ INFO] [1638399970.940355924]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...[0m
[0m[ INFO] [1638399970.946892546]: Finished loading Gazebo ROS API Plugin.[0m
[0m[ INFO] [1638399970.969009637]: Gazebo ROS Recording Plugin initialized.[0m
[0m[ INFO] [1638399970.985145501]: Gazebo ROS Playback Plugin initialized.[0m
2021-12-02 00:06:11,684 [Thread-52   ] [rospy.intern] [INFO]  topic[/clock] adding connection to [http://148.187.33.75:43905/], count 0
2021-12-02 00:06:12,070 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Restarting Gazebo web client communication adapter
[0m[ INFO] [1638399971.712753967]: waitForService: Service [/gazebo/set_physics_properties] is now available.[0m
[0m[ INFO] [1638399971.895469673]: Physics dynamic reconfigure ready.[0m
Found /home_daint/bbpnrsoa/nrp/src/gzweb/gzbridge/server.js
Starting node:  OK.

2021-12-02 00:06:14,091 [Thread-48   ] [hbp_nrp_cles] [INFO]  Non-existent textures or folder!
Pose message filter parameters: 
  minimum seconds between successive messages: 0.02
  minimum XYZ distance squared between successive messages: 0.00001
  minimum Quaternion distance squared between successive messages: 0.0001
--------------------------------------------------------------
Thu Dec 02 2021 00:06:14 GMT+0100 (CET) gzbridge Websocket is listening on port: 7681
2021-12-02 00:06:14,469 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Adding robot husky from /tmp/nrp.1.1pamxhw9/husky/model.sdf: 
2021-12-02 00:06:14,834 [Thread-48   ] [hbp_nrp_cles] [INFO]  Preparing CLE Server
2021-12-02 00:06:14,863 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Robot control adapter initialized
2021-12-02 00:06:14,889 [Thread-48   ] [hbp_nrp_cle.] [INFO]  neuronal simulator initialized
2021-12-02 00:06:14,889 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Initialize transfer functions node tfnode
2021-12-02 00:06:14,889 [Thread-48   ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-02 00:06:14,889 [Thread-48   ] [hbp_nrp_cle.] [WARNING]  ROS node already initialized with another name
2021-12-02 00:06:14,889 [Thread-48   ] [hbp_nrp_cle ] [INFO]  Recreating brain from file /tmp/nrp.1.1pamxhw9/hpctest122020.py
2021-12-02 00:06:23,189 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Saving brain source
2021-12-02 00:06:23,189 [Thread-48   ] [hbp_nrp_cle ] [INFO]  Resetting TFs
2021-12-02 00:06:23,190 [Thread-48   ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-02 00:06:23,190 [Thread-48   ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-02 00:06:23,201 [Thread-48   ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-02 00:06:23,204 [Thread-55   ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] adding connection to [http://148.187.33.75:45411/], count 0
2021-12-02 00:06:23,205 [Thread-54   ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] adding connection to [http://148.187.33.75:34935/], count 0
2021-12-02 00:06:23,208 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] adding connection to [/ros_cle_simulation_280_1638399660525], count 0
2021-12-02 00:06:23,208 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] adding connection to [/nrp_backend], count 1
2021-12-02 00:06:23,211 [Thread-48   ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-02 00:06:23,270 [Thread-48   ] [hbp_nrp_cle.] [INFO]  Initialize transfer function all_neurons_spike_monitor monitors (root).record
2021-12-02 00:06:23,329 [Thread-48   ] [hbp_nrp_cle.] [ERROR]  Error while loading new transfer function
2021-12-02 00:06:23,329 [Thread-48   ] [hbp_nrp_cle.] [ERROR]  Out of range float values are not JSON compliant
Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 471, in prepare_body
    body = complexjson.dumps(json, allow_nan=False)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Out of range float values are not JSON compliant

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/__init__.py", line 472, in set_transfer_function
    config.active_node.initialize_tf(tf, activation)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_TransferFunctionManager.py", line 285, in initialize_tf
    tf.params[i] = tf.params[i].create_adapter(self)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_Neuron2Robot.py", line 116, in create_adapter
    return adapter.register_spike_sink(neurons,
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 132, in register_spike_sink
    device = self.__register_device(populations, spike_detector_type, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 112, in __register_device
    device = concrete_type.create_new_device_group(populations, self._nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 72, in create_new_device_group
    return NestDeviceGroup.create_new_device_group(populations, cls, nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestDeviceGroup.py", line 58, in create_new_device_group
    device = nested_device_type.create_new_device(
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 59, in create_new_device
    return cls(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegratorTypes.py", line 83, in __init__
    super(NestLeakyIntegratorAlpha, self).__init__(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 73, in __init__
    self.create_device()
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 103, in create_device
    self._cell = self._nest_client.create_device(self._get_cell_type(),
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 79, in create_device
    return self.Create(model=device_model, n=n, params=parameters)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 24, in method
    response = requests.post(self.url + 'api/' + call, json=kwargs, headers=self.headers)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 117, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 528, in request
    prep = self.prepare_request(req)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 456, in prepare_request
    p.prepare(
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 319, in prepare
    self.prepare_body(data, files, json)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 473, in prepare_body
    raise InvalidJSONError(ve, request=self)
requests.exceptions.InvalidJSONError: Out of range float values are not JSON compliant
2021-12-02 00:06:23,329 [Thread-48   ] [hbp_nrp_cles] [ERROR]  all_neurons_spike_monitor: 'Out of range float values are not JSON compliant' (TF Loading Exception)
2021-12-02 00:06:23,335 [Thread-48   ] [hbp_nrp_cles] [INFO]  CLELauncher Finished.
2021-12-02 00:06:23,341 [Thread-48   ] [hbp_nrp_cles] [INFO]  Initialization done
2021-12-02 00:06:23,342 [Thread-48   ] [hbp_nrp_cles] [INFO]  Spawning new thread that will manage the experiment execution.
2021-12-02 00:06:23,414 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state created to state paused...
2021-12-02 00:06:23,414 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'initialize' before transition.
2021-12-02 00:06:23,414 [/ros_cle_sim] [transitions.] [INFO]  Exited state created
2021-12-02 00:06:23,414 [/ros_cle_sim] [transitions.] [INFO]  Entered state paused
2021-12-02 00:06:23,414 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aab095a02b0>' after transition.
2021-12-02 00:06:24,434 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] adding connection to [/rosbridge_websocket], count 0
2021-12-02 00:06:24,471 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state paused to state started...
2021-12-02 00:06:24,471 [CLE_THREAD  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-02 00:06:24,471 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'start' before transition.
2021-12-02 00:06:24,471 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop started
2021-12-02 00:06:24,471 [/ros_cle_sim] [transitions.] [INFO]  Exited state paused
2021-12-02 00:06:24,472 [/ros_cle_sim] [transitions.] [INFO]  Entered state started
2021-12-02 00:06:24,472 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aab095a0460>' after transition.
2021-12-02 00:06:24,484 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] adding connection to [/rosbridge_websocket], count 0
2021-12-02 00:07:46,438 [CLE_THREAD  ] [transitions.] [INFO]  Initiating transition from state started to state stopped...
2021-12-02 00:07:46,438 [CLE_THREAD  ] [transitions.] [INFO]  Executing callback 'stop' before transition.
2021-12-02 00:07:46,438 [CLE_THREAD  ] [transitions.] [INFO]  Exited state started
2021-12-02 00:07:46,438 [CLE_THREAD  ] [transitions.] [INFO]  Entered state stopped
2021-12-02 00:07:46,438 [CLE_THREAD  ] [hbp_nrp_comm] [INFO]  Changing simulation lifecycle state from started to stopped
2021-12-02 00:07:47,239 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] removing connection to /rosbridge_websocket
2021-12-02 00:07:47,439 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/1/lifecycle...
2021-12-02 00:07:47,439 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] removing connection to http://148.187.33.75:45411/
2021-12-02 00:07:47,439 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] removing connection to http://148.187.33.75:34935/
2021-12-02 00:07:47,443 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/1/lifecycle...
2021-12-02 00:07:47,443 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] removing connection to /ros_cle_simulation_280_1638399660525
2021-12-02 00:07:47,444 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/1/lifecycle] removing connection to /nrp_backend
2021-12-02 00:07:47,448 [CLE_THREAD  ] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aab095a0760>' after transition.
2021-12-02 00:07:47,448 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop ended
2021-12-02 00:07:47,740 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] removing connection to /rosbridge_websocket
2021-12-02 00:07:48,440 [Thread-61   ] [hbp_nrp_cles] [INFO]  Finished main loop
2021-12-02 00:07:48,440 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutdown simulation
2021-12-02 00:07:48,440 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder services
2021-12-02 00:07:48,444 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder
2021-12-02 00:07:48,668 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down the closed loop service
2021-12-02 00:07:48,668 [Thread-61   ] [hbp_nrp_cle.] [INFO]  Shutting down the world simulation
2021-12-02 00:07:48,668 [Thread-61   ] [hbp_nrp_cle.] [INFO]  Robot control adapter stopped
2021-12-02 00:07:48,668 [Thread-61   ] [hbp_nrp_cle.] [INFO]  neuronal simulator ended
2021-12-02 00:07:50,671 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down get_transfer_functions service
2021-12-02 00:07:50,677 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down activate_transfer_function service
2021-12-02 00:07:50,680 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down add_transfer_function service
2021-12-02 00:07:50,683 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down set_transfer_function services
2021-12-02 00:07:50,686 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down delete_transfer_function services
2021-12-02 00:07:50,690 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down get_brain service
2021-12-02 00:07:50,693 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down set_brain service
2021-12-02 00:07:50,696 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-02 00:07:50,699 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-02 00:07:50,703 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down get_CSV_recorders_files service
2021-12-02 00:07:50,706 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down clean_CSV_recorders_files service
2021-12-02 00:07:50,709 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down get_robots service
2021-12-02 00:07:50,712 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down add_robot service
2021-12-02 00:07:50,716 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down delete_robot service
2021-12-02 00:07:50,719 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down set_robot_initial_pose service
2021-12-02 00:07:50,722 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down prepare_custom_model service
2021-12-02 00:07:50,765 [Thread-61   ] [hbp_nrp_cle.] [INFO]  Stopping Gazebo web client communication adapter
Stopping node:  OK.
2021-12-02 00:07:50,771 [Thread-61   ] [hbp_nrp_cle.] [INFO]  Stopping gzserver
Stopping 2947:  OK.
2021-12-02 00:07:50,782 [Thread-61   ] [hbp_nrp_cles] [INFO]  Shutting down ROS notificator
2021-12-02 00:07:50,782 [Thread-61   ] [hbp_nrp_cles] [INFO]  Unregister error/transfer_function topic
2021-12-02 00:07:50,782 [Thread-61   ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/cle_error...
2021-12-02 00:07:50,786 [Thread-61   ] [hbp_nrp_cles] [INFO]  Unregister status topic
2021-12-02 00:07:50,786 [Thread-61   ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/status...
2021-12-02 00:07:50,790 [/clock      ] [rospy.intern] [INFO]  topic[/clock] removing connection to http://148.187.33.75:43905/
2021-12-02 00:07:50,791 [Thread-61   ] [hbp_nrp_cles] [INFO]  Cleaning up ROS nodes and services
killing /gazebo
killed
2021-12-02 00:09:29,224 [Thread-89   ] [hbp_nrp_cles] [INFO]  Create new simulation request
2021-12-02 00:09:29,224 [Thread-89   ] [hbp_nrp_cles] [INFO]  Preparing new simulation with /tmp/nrp.2.zr49_yx_/experiment_configuration.exc config file
2021-12-02 00:09:29,232 [Thread-89   ] [SimConfig   ] [INFO]  Bibi absolute path: /tmp/nrp.2.zr49_yx_/bibi_config.bibi
2021-12-02 00:09:29,234 [Thread-89   ] [SimConfig   ] [INFO]  Gazebo's lockstep mode set to False
2021-12-02 00:09:29,234 [Thread-89   ] [SimConfig   ] [INFO]  Using physics engine ode
2021-12-02 00:09:29,235 [Thread-89   ] [hbp_nrp_cles] [INFO]  Starting the experiment closed loop engine.
2021-12-02 00:09:29,235 [Thread-89   ] [hbp_nrp_cles] [INFO]  Path is /tmp/nrp.2.zr49_yx_
2021-12-02 00:09:29,235 [Thread-89   ] [hbp_nrp_cles] [INFO]  No RNG seed specified in the exc, using random value.
2021-12-02 00:09:29,235 [Thread-89   ] [hbp_nrp_cles] [INFO]  RNG seed = 8918677518780962353
2021-12-02 00:09:29,235 [Thread-89   ] [hbp_nrp_cles] [INFO]  Setting up backend Notificator
2021-12-02 00:09:29,242 [Thread-89   ] [hbp_nrp_cles] [INFO]  ROS notificator initialized
2021-12-02 00:09:29,242 [Thread-89   ] [hbp_nrp_cles] [INFO]  Creating CLE Server
2021-12-02 00:09:29,263 [Thread-89   ] [hbp_nrp_cles] [INFO]  gzserver arguments:  --seed 8918677518780962353 -e ode /tmp/nrp.2.zr49_yx_/virtual_room.sdf
2021-12-02 00:09:29,263 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Starting gzserver
Found /home_daint/bbpnrsoa/.local/bin/gzserver
Starting gzserver:  OK.

[0m[ INFO] [1638400172.000944732]: Finished loading Gazebo ROS API Plugin.[0m
[0m[ INFO] [1638400172.007351531]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...[0m
[0m[ INFO] [1638400172.030493134]: Gazebo ROS Recording Plugin initialized.[0m
[0m[ INFO] [1638400172.047150532]: Gazebo ROS Playback Plugin initialized.[0m
2021-12-02 00:09:32,749 [Thread-93   ] [rospy.intern] [INFO]  topic[/clock] adding connection to [http://148.187.33.75:41573/], count 0
2021-12-02 00:09:33,124 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Restarting Gazebo web client communication adapter
[0m[ INFO] [1638400172.750860461]: waitForService: Service [/gazebo/set_physics_properties] is now available.[0m
[0m[ INFO] [1638400172.936530814]: Physics dynamic reconfigure ready.[0m
Found /home_daint/bbpnrsoa/nrp/src/gzweb/gzbridge/server.js
Starting node:  OK.

2021-12-02 00:09:35,145 [Thread-89   ] [hbp_nrp_cles] [INFO]  Non-existent textures or folder!
Pose message filter parameters: 
  minimum seconds between successive messages: 0.02
  minimum XYZ distance squared between successive messages: 0.00001
  minimum Quaternion distance squared between successive messages: 0.0001
--------------------------------------------------------------
Thu Dec 02 2021 00:09:35 GMT+0100 (CET) gzbridge Websocket is listening on port: 7681
2021-12-02 00:09:35,542 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Adding robot husky from /tmp/nrp.2.zr49_yx_/husky/model.sdf: 
2021-12-02 00:09:35,868 [Thread-89   ] [hbp_nrp_cles] [INFO]  Preparing CLE Server
2021-12-02 00:09:35,899 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Robot control adapter initialized
2021-12-02 00:09:35,924 [Thread-89   ] [hbp_nrp_cle.] [INFO]  neuronal simulator initialized
2021-12-02 00:09:35,924 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Initialize transfer functions node tfnode
2021-12-02 00:09:35,924 [Thread-89   ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-02 00:09:35,924 [Thread-89   ] [hbp_nrp_cle.] [WARNING]  ROS node already initialized with another name
2021-12-02 00:09:35,924 [Thread-89   ] [hbp_nrp_cle ] [INFO]  Recreating brain from file /tmp/nrp.2.zr49_yx_/hpctest122020.py
2021-12-02 00:09:40,164 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Saving brain source
2021-12-02 00:09:40,164 [Thread-89   ] [hbp_nrp_cle ] [INFO]  Resetting TFs
2021-12-02 00:09:40,164 [Thread-89   ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-02 00:09:40,165 [Thread-89   ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-02 00:09:40,176 [Thread-89   ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-02 00:09:40,179 [Thread-95   ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] adding connection to [http://148.187.33.75:34935/], count 0
2021-12-02 00:09:40,179 [Thread-96   ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] adding connection to [http://148.187.33.75:45411/], count 1
2021-12-02 00:09:40,181 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] adding connection to [/ros_cle_simulation_280_1638399660525], count 0
2021-12-02 00:09:40,184 [Thread-89   ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-02 00:09:40,238 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] adding connection to [/nrp_backend], count 1
2021-12-02 00:09:40,242 [Thread-89   ] [hbp_nrp_cle.] [INFO]  Initialize transfer function all_neurons_spike_monitor monitors (root).record
2021-12-02 00:09:40,300 [Thread-89   ] [hbp_nrp_cle.] [ERROR]  Error while loading new transfer function
2021-12-02 00:09:40,300 [Thread-89   ] [hbp_nrp_cle.] [ERROR]  Out of range float values are not JSON compliant
Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 471, in prepare_body
    body = complexjson.dumps(json, allow_nan=False)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Out of range float values are not JSON compliant

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/__init__.py", line 472, in set_transfer_function
    config.active_node.initialize_tf(tf, activation)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_TransferFunctionManager.py", line 285, in initialize_tf
    tf.params[i] = tf.params[i].create_adapter(self)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_Neuron2Robot.py", line 116, in create_adapter
    return adapter.register_spike_sink(neurons,
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 132, in register_spike_sink
    device = self.__register_device(populations, spike_detector_type, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 112, in __register_device
    device = concrete_type.create_new_device_group(populations, self._nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 72, in create_new_device_group
    return NestDeviceGroup.create_new_device_group(populations, cls, nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestDeviceGroup.py", line 58, in create_new_device_group
    device = nested_device_type.create_new_device(
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 59, in create_new_device
    return cls(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegratorTypes.py", line 83, in __init__
    super(NestLeakyIntegratorAlpha, self).__init__(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 73, in __init__
    self.create_device()
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 103, in create_device
    self._cell = self._nest_client.create_device(self._get_cell_type(),
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 79, in create_device
    return self.Create(model=device_model, n=n, params=parameters)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 24, in method
    response = requests.post(self.url + 'api/' + call, json=kwargs, headers=self.headers)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 117, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 528, in request
    prep = self.prepare_request(req)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 456, in prepare_request
    p.prepare(
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 319, in prepare
    self.prepare_body(data, files, json)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 473, in prepare_body
    raise InvalidJSONError(ve, request=self)
requests.exceptions.InvalidJSONError: Out of range float values are not JSON compliant
2021-12-02 00:09:40,300 [Thread-89   ] [hbp_nrp_cles] [ERROR]  all_neurons_spike_monitor: 'Out of range float values are not JSON compliant' (TF Loading Exception)
2021-12-02 00:09:40,305 [Thread-89   ] [hbp_nrp_cles] [INFO]  CLELauncher Finished.
2021-12-02 00:09:40,311 [Thread-89   ] [hbp_nrp_cles] [INFO]  Initialization done
2021-12-02 00:09:40,312 [Thread-89   ] [hbp_nrp_cles] [INFO]  Spawning new thread that will manage the experiment execution.
2021-12-02 00:09:40,382 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state created to state paused...
2021-12-02 00:09:40,382 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'initialize' before transition.
2021-12-02 00:09:40,383 [/ros_cle_sim] [transitions.] [INFO]  Exited state created
2021-12-02 00:09:40,383 [/ros_cle_sim] [transitions.] [INFO]  Entered state paused
2021-12-02 00:09:40,383 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabda87dd90>' after transition.
2021-12-02 00:09:41,403 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] adding connection to [/rosbridge_websocket], count 0
2021-12-02 00:09:41,419 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] adding connection to [/rosbridge_websocket], count 0
2021-12-02 00:09:41,437 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state paused to state started...
2021-12-02 00:09:41,437 [CLE_THREAD  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-02 00:09:41,437 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'start' before transition.
2021-12-02 00:09:41,438 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop started
2021-12-02 00:09:41,438 [/ros_cle_sim] [transitions.] [INFO]  Exited state paused
2021-12-02 00:09:41,438 [/ros_cle_sim] [transitions.] [INFO]  Entered state started
2021-12-02 00:09:41,438 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabda87d730>' after transition.
2021-12-02 00:10:34,856 [CLE_THREAD  ] [transitions.] [INFO]  Initiating transition from state started to state stopped...
2021-12-02 00:10:34,856 [CLE_THREAD  ] [transitions.] [INFO]  Executing callback 'stop' before transition.
2021-12-02 00:10:34,856 [CLE_THREAD  ] [transitions.] [INFO]  Exited state started
2021-12-02 00:10:34,856 [CLE_THREAD  ] [transitions.] [INFO]  Entered state stopped
2021-12-02 00:10:34,856 [CLE_THREAD  ] [hbp_nrp_comm] [INFO]  Changing simulation lifecycle state from started to stopped
2021-12-02 00:10:35,692 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] removing connection to /rosbridge_websocket
2021-12-02 00:10:35,692 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] removing connection to /rosbridge_websocket
2021-12-02 00:10:35,858 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/2/lifecycle...
2021-12-02 00:10:35,858 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] removing connection to http://148.187.33.75:34935/
2021-12-02 00:10:35,859 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] removing connection to http://148.187.33.75:45411/
2021-12-02 00:10:35,862 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/2/lifecycle...
2021-12-02 00:10:35,862 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] removing connection to /ros_cle_simulation_280_1638399660525
2021-12-02 00:10:35,863 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/2/lifecycle] removing connection to /nrp_backend
2021-12-02 00:10:35,866 [CLE_THREAD  ] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aab095a0f40>' after transition.
2021-12-02 00:10:35,866 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop ended
2021-12-02 00:10:36,859 [Thread-102  ] [hbp_nrp_cles] [INFO]  Finished main loop
2021-12-02 00:10:36,859 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutdown simulation
2021-12-02 00:10:36,859 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder services
2021-12-02 00:10:36,863 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder
2021-12-02 00:10:40,595 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down the closed loop service
2021-12-02 00:10:40,595 [Thread-102  ] [hbp_nrp_cle.] [INFO]  Shutting down the world simulation
2021-12-02 00:10:40,595 [Thread-102  ] [hbp_nrp_cle.] [INFO]  Robot control adapter stopped
2021-12-02 00:10:40,595 [Thread-102  ] [hbp_nrp_cle.] [INFO]  neuronal simulator ended
2021-12-02 00:10:42,598 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down get_transfer_functions service
2021-12-02 00:10:42,604 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down activate_transfer_function service
2021-12-02 00:10:42,608 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down add_transfer_function service
2021-12-02 00:10:42,611 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down set_transfer_function services
2021-12-02 00:10:42,614 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down delete_transfer_function services
2021-12-02 00:10:42,618 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down get_brain service
2021-12-02 00:10:42,621 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down set_brain service
2021-12-02 00:10:42,624 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-02 00:10:42,628 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-02 00:10:42,631 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down get_CSV_recorders_files service
2021-12-02 00:10:42,635 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down clean_CSV_recorders_files service
2021-12-02 00:10:42,638 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down get_robots service
2021-12-02 00:10:42,642 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down add_robot service
2021-12-02 00:10:42,645 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down delete_robot service
2021-12-02 00:10:42,649 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down set_robot_initial_pose service
2021-12-02 00:10:42,653 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down prepare_custom_model service
2021-12-02 00:10:42,719 [Thread-102  ] [hbp_nrp_cle.] [INFO]  Stopping Gazebo web client communication adapter
Stopping node:  OK.
2021-12-02 00:10:42,725 [Thread-102  ] [hbp_nrp_cle.] [INFO]  Stopping gzserver
Stopping 4038:  OK.
2021-12-02 00:10:42,736 [Thread-102  ] [hbp_nrp_cles] [INFO]  Shutting down ROS notificator
2021-12-02 00:10:42,736 [Thread-102  ] [hbp_nrp_cles] [INFO]  Unregister error/transfer_function topic
2021-12-02 00:10:42,736 [Thread-102  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/cle_error...
2021-12-02 00:10:42,740 [Thread-102  ] [hbp_nrp_cles] [INFO]  Unregister status topic
2021-12-02 00:10:42,740 [Thread-102  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/status...
2021-12-02 00:10:42,743 [/clock      ] [rospy.intern] [INFO]  topic[/clock] removing connection to http://148.187.33.75:41573/
2021-12-02 00:10:42,745 [Thread-102  ] [hbp_nrp_cles] [INFO]  Cleaning up ROS nodes and services
killing /gazebo
killed
2021-12-02 00:12:17,325 [Thread-130  ] [hbp_nrp_cles] [INFO]  Create new simulation request
2021-12-02 00:12:17,326 [Thread-130  ] [hbp_nrp_cles] [INFO]  Preparing new simulation with /tmp/nrp.3.964epdjf/experiment_configuration.exc config file
2021-12-02 00:12:17,333 [Thread-130  ] [SimConfig   ] [INFO]  Bibi absolute path: /tmp/nrp.3.964epdjf/bibi_config.bibi
2021-12-02 00:12:17,335 [Thread-130  ] [SimConfig   ] [INFO]  Gazebo's lockstep mode set to False
2021-12-02 00:12:17,335 [Thread-130  ] [SimConfig   ] [INFO]  Using physics engine ode
2021-12-02 00:12:17,336 [Thread-130  ] [hbp_nrp_cles] [INFO]  Starting the experiment closed loop engine.
2021-12-02 00:12:17,336 [Thread-130  ] [hbp_nrp_cles] [INFO]  Path is /tmp/nrp.3.964epdjf
2021-12-02 00:12:17,336 [Thread-130  ] [hbp_nrp_cles] [INFO]  No RNG seed specified in the exc, using random value.
2021-12-02 00:12:17,336 [Thread-130  ] [hbp_nrp_cles] [INFO]  RNG seed = 8479406166662420854
2021-12-02 00:12:17,336 [Thread-130  ] [hbp_nrp_cles] [INFO]  Setting up backend Notificator
2021-12-02 00:12:17,343 [Thread-130  ] [hbp_nrp_cles] [INFO]  ROS notificator initialized
2021-12-02 00:12:17,343 [Thread-130  ] [hbp_nrp_cles] [INFO]  Creating CLE Server
2021-12-02 00:12:17,365 [Thread-130  ] [hbp_nrp_cles] [INFO]  gzserver arguments:  --seed 8479406166662420854 -e ode /tmp/nrp.3.964epdjf/virtual_room.sdf
2021-12-02 00:12:17,365 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Starting gzserver
Found /home_daint/bbpnrsoa/.local/bin/gzserver
Starting gzserver:  OK.

[0m[ INFO] [1638400340.100143644]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...[0m
[0m[ INFO] [1638400340.106924607]: Finished loading Gazebo ROS API Plugin.[0m
[0m[ INFO] [1638400340.129183847]: Gazebo ROS Recording Plugin initialized.[0m
[0m[ INFO] [1638400340.145212411]: Gazebo ROS Playback Plugin initialized.[0m
2021-12-02 00:12:20,850 [Thread-134  ] [rospy.intern] [INFO]  topic[/clock] adding connection to [http://148.187.33.75:43221/], count 0
2021-12-02 00:12:21,225 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Restarting Gazebo web client communication adapter
[0m[ INFO] [1638400340.852588258]: waitForService: Service [/gazebo/set_physics_properties] is now available.[0m
[0m[ INFO] [1638400341.051328220]: Physics dynamic reconfigure ready.[0m
Found /home_daint/bbpnrsoa/nrp/src/gzweb/gzbridge/server.js
Starting node:  OK.

2021-12-02 00:12:23,247 [Thread-130  ] [hbp_nrp_cles] [INFO]  Non-existent textures or folder!
Pose message filter parameters: 
  minimum seconds between successive messages: 0.02
  minimum XYZ distance squared between successive messages: 0.00001
  minimum Quaternion distance squared between successive messages: 0.0001
--------------------------------------------------------------
Thu Dec 02 2021 00:12:23 GMT+0100 (CET) gzbridge Websocket is listening on port: 7681
2021-12-02 00:12:23,657 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Adding robot husky from /tmp/nrp.3.964epdjf/husky/model.sdf: 
2021-12-02 00:12:23,984 [Thread-130  ] [hbp_nrp_cles] [INFO]  Preparing CLE Server
2021-12-02 00:12:24,014 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Robot control adapter initialized
2021-12-02 00:12:24,046 [Thread-130  ] [hbp_nrp_cle.] [INFO]  neuronal simulator initialized
2021-12-02 00:12:24,046 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Initialize transfer functions node tfnode
2021-12-02 00:12:24,046 [Thread-130  ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-02 00:12:24,046 [Thread-130  ] [hbp_nrp_cle.] [WARNING]  ROS node already initialized with another name
2021-12-02 00:12:24,046 [Thread-130  ] [hbp_nrp_cle ] [INFO]  Recreating brain from file /tmp/nrp.3.964epdjf/hpctest122020.py
2021-12-02 00:12:26,256 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Saving brain source
2021-12-02 00:12:26,257 [Thread-130  ] [hbp_nrp_cle ] [INFO]  Resetting TFs
2021-12-02 00:12:26,257 [Thread-130  ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-02 00:12:26,257 [Thread-130  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-02 00:12:26,269 [Thread-130  ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-02 00:12:26,271 [Thread-136  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] adding connection to [http://148.187.33.75:34935/], count 0
2021-12-02 00:12:26,272 [Thread-137  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] adding connection to [http://148.187.33.75:45411/], count 0
2021-12-02 00:12:26,274 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] adding connection to [/ros_cle_simulation_280_1638399660525], count 0
2021-12-02 00:12:26,277 [Thread-130  ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-02 00:12:26,329 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] adding connection to [/nrp_backend], count 1
2021-12-02 00:12:26,340 [Thread-130  ] [hbp_nrp_cle.] [INFO]  Initialize transfer function all_neurons_spike_monitor monitors (root).record
2021-12-02 00:12:26,407 [Thread-130  ] [hbp_nrp_cle.] [ERROR]  Error while loading new transfer function
2021-12-02 00:12:26,407 [Thread-130  ] [hbp_nrp_cle.] [ERROR]  Out of range float values are not JSON compliant
Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 471, in prepare_body
    body = complexjson.dumps(json, allow_nan=False)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Out of range float values are not JSON compliant

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/__init__.py", line 472, in set_transfer_function
    config.active_node.initialize_tf(tf, activation)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_TransferFunctionManager.py", line 285, in initialize_tf
    tf.params[i] = tf.params[i].create_adapter(self)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_Neuron2Robot.py", line 116, in create_adapter
    return adapter.register_spike_sink(neurons,
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 132, in register_spike_sink
    device = self.__register_device(populations, spike_detector_type, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 112, in __register_device
    device = concrete_type.create_new_device_group(populations, self._nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 72, in create_new_device_group
    return NestDeviceGroup.create_new_device_group(populations, cls, nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestDeviceGroup.py", line 58, in create_new_device_group
    device = nested_device_type.create_new_device(
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 59, in create_new_device
    return cls(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegratorTypes.py", line 83, in __init__
    super(NestLeakyIntegratorAlpha, self).__init__(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 73, in __init__
    self.create_device()
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 103, in create_device
    self._cell = self._nest_client.create_device(self._get_cell_type(),
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 79, in create_device
    return self.Create(model=device_model, n=n, params=parameters)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 24, in method
    response = requests.post(self.url + 'api/' + call, json=kwargs, headers=self.headers)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 117, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 528, in request
    prep = self.prepare_request(req)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 456, in prepare_request
    p.prepare(
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 319, in prepare
    self.prepare_body(data, files, json)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 473, in prepare_body
    raise InvalidJSONError(ve, request=self)
requests.exceptions.InvalidJSONError: Out of range float values are not JSON compliant
2021-12-02 00:12:26,408 [Thread-130  ] [hbp_nrp_cles] [ERROR]  all_neurons_spike_monitor: 'Out of range float values are not JSON compliant' (TF Loading Exception)
2021-12-02 00:12:26,413 [Thread-130  ] [hbp_nrp_cles] [INFO]  CLELauncher Finished.
2021-12-02 00:12:26,420 [Thread-130  ] [hbp_nrp_cles] [INFO]  Initialization done
2021-12-02 00:12:26,420 [Thread-130  ] [hbp_nrp_cles] [INFO]  Spawning new thread that will manage the experiment execution.
2021-12-02 00:12:26,496 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state created to state paused...
2021-12-02 00:12:26,496 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'initialize' before transition.
2021-12-02 00:12:26,496 [/ros_cle_sim] [transitions.] [INFO]  Exited state created
2021-12-02 00:12:26,496 [/ros_cle_sim] [transitions.] [INFO]  Entered state paused
2021-12-02 00:12:26,496 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9900190>' after transition.
2021-12-02 00:12:27,518 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] adding connection to [/rosbridge_websocket], count 0
2021-12-02 00:12:27,535 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] adding connection to [/rosbridge_websocket], count 0
2021-12-02 00:12:27,553 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state paused to state started...
2021-12-02 00:12:27,553 [CLE_THREAD  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-02 00:12:27,553 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'start' before transition.
2021-12-02 00:12:27,554 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop started
2021-12-02 00:12:27,554 [/ros_cle_sim] [transitions.] [INFO]  Exited state paused
2021-12-02 00:12:27,554 [/ros_cle_sim] [transitions.] [INFO]  Entered state started
2021-12-02 00:12:27,554 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9900fa0>' after transition.
2021-12-02 00:13:08,299 [CLE_THREAD  ] [transitions.] [INFO]  Initiating transition from state started to state stopped...
2021-12-02 00:13:08,300 [CLE_THREAD  ] [transitions.] [INFO]  Executing callback 'stop' before transition.
2021-12-02 00:13:08,300 [CLE_THREAD  ] [transitions.] [INFO]  Exited state started
2021-12-02 00:13:08,300 [CLE_THREAD  ] [transitions.] [INFO]  Entered state stopped
2021-12-02 00:13:08,300 [CLE_THREAD  ] [hbp_nrp_comm] [INFO]  Changing simulation lifecycle state from started to stopped
2021-12-02 00:13:09,301 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/3/lifecycle...
2021-12-02 00:13:09,302 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] removing connection to http://148.187.33.75:34935/
2021-12-02 00:13:09,302 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] removing connection to http://148.187.33.75:45411/
2021-12-02 00:13:09,306 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/3/lifecycle...
2021-12-02 00:13:09,306 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] removing connection to /ros_cle_simulation_280_1638399660525
2021-12-02 00:13:09,306 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/3/lifecycle] removing connection to /nrp_backend
2021-12-02 00:13:09,310 [CLE_THREAD  ] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9900c40>' after transition.
2021-12-02 00:13:09,310 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop ended
2021-12-02 00:13:09,784 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] removing connection to /rosbridge_websocket
2021-12-02 00:13:09,785 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] removing connection to /rosbridge_websocket
2021-12-02 00:13:10,303 [Thread-143  ] [hbp_nrp_cles] [INFO]  Finished main loop
2021-12-02 00:13:10,303 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutdown simulation
2021-12-02 00:13:10,303 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder services
2021-12-02 00:13:10,307 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder
2021-12-02 00:13:11,593 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down the closed loop service
2021-12-02 00:13:11,593 [Thread-143  ] [hbp_nrp_cle.] [INFO]  Shutting down the world simulation
2021-12-02 00:13:11,593 [Thread-143  ] [hbp_nrp_cle.] [INFO]  Robot control adapter stopped
2021-12-02 00:13:11,593 [Thread-143  ] [hbp_nrp_cle.] [INFO]  neuronal simulator ended
2021-12-02 00:13:13,595 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down get_transfer_functions service
2021-12-02 00:13:13,602 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down activate_transfer_function service
2021-12-02 00:13:13,606 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down add_transfer_function service
2021-12-02 00:13:13,609 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down set_transfer_function services
2021-12-02 00:13:13,613 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down delete_transfer_function services
2021-12-02 00:13:13,616 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down get_brain service
2021-12-02 00:13:13,619 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down set_brain service
2021-12-02 00:13:13,623 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-02 00:13:13,626 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-02 00:13:13,630 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down get_CSV_recorders_files service
2021-12-02 00:13:13,633 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down clean_CSV_recorders_files service
2021-12-02 00:13:13,637 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down get_robots service
2021-12-02 00:13:13,640 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down add_robot service
2021-12-02 00:13:13,644 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down delete_robot service
2021-12-02 00:13:13,647 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down set_robot_initial_pose service
2021-12-02 00:13:13,651 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down prepare_custom_model service
2021-12-02 00:13:13,695 [Thread-143  ] [hbp_nrp_cle.] [INFO]  Stopping Gazebo web client communication adapter
Stopping node:  OK.
2021-12-02 00:13:13,701 [Thread-143  ] [hbp_nrp_cle.] [INFO]  Stopping gzserver
Stopping 5128:  OK.
2021-12-02 00:13:13,712 [Thread-143  ] [hbp_nrp_cles] [INFO]  Shutting down ROS notificator
2021-12-02 00:13:13,712 [Thread-143  ] [hbp_nrp_cles] [INFO]  Unregister error/transfer_function topic
2021-12-02 00:13:13,712 [Thread-143  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/cle_error...
2021-12-02 00:13:13,716 [Thread-143  ] [hbp_nrp_cles] [INFO]  Unregister status topic
2021-12-02 00:13:13,716 [Thread-143  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/status...
2021-12-02 00:13:13,720 [/clock      ] [rospy.intern] [INFO]  topic[/clock] removing connection to http://148.187.33.75:43221/
2021-12-02 00:13:13,722 [Thread-143  ] [hbp_nrp_cles] [INFO]  Cleaning up ROS nodes and services
killing /gazebo
killed
2021-12-02 00:15:03,234 [Thread-171  ] [hbp_nrp_cles] [INFO]  Create new simulation request
2021-12-02 00:15:03,234 [Thread-171  ] [hbp_nrp_cles] [INFO]  Preparing new simulation with /tmp/nrp.4.y1nw7luz/experiment_configuration.exc config file
2021-12-02 00:15:03,241 [Thread-171  ] [SimConfig   ] [INFO]  Bibi absolute path: /tmp/nrp.4.y1nw7luz/bibi_config.bibi
2021-12-02 00:15:03,244 [Thread-171  ] [SimConfig   ] [INFO]  Gazebo's lockstep mode set to False
2021-12-02 00:15:03,244 [Thread-171  ] [SimConfig   ] [INFO]  Using physics engine ode
2021-12-02 00:15:03,244 [Thread-171  ] [hbp_nrp_cles] [INFO]  Starting the experiment closed loop engine.
2021-12-02 00:15:03,244 [Thread-171  ] [hbp_nrp_cles] [INFO]  Path is /tmp/nrp.4.y1nw7luz
2021-12-02 00:15:03,245 [Thread-171  ] [hbp_nrp_cles] [INFO]  No RNG seed specified in the exc, using random value.
2021-12-02 00:15:03,245 [Thread-171  ] [hbp_nrp_cles] [INFO]  RNG seed = 6793003044706745047
2021-12-02 00:15:03,245 [Thread-171  ] [hbp_nrp_cles] [INFO]  Setting up backend Notificator
2021-12-02 00:15:03,251 [Thread-171  ] [hbp_nrp_cles] [INFO]  ROS notificator initialized
2021-12-02 00:15:03,252 [Thread-171  ] [hbp_nrp_cles] [INFO]  Creating CLE Server
2021-12-02 00:15:03,274 [Thread-171  ] [hbp_nrp_cles] [INFO]  gzserver arguments:  --seed 6793003044706745047 -e ode /tmp/nrp.4.y1nw7luz/virtual_room.sdf
2021-12-02 00:15:03,274 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Starting gzserver
Found /home_daint/bbpnrsoa/.local/bin/gzserver
Starting gzserver:  OK.

[0m[ INFO] [1638400506.002405869]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...[0m
[0m[ INFO] [1638400506.009035113]: Finished loading Gazebo ROS API Plugin.[0m
[0m[ INFO] [1638400506.030094724]: Gazebo ROS Recording Plugin initialized.[0m
[0m[ INFO] [1638400506.045869485]: Gazebo ROS Playback Plugin initialized.[0m
2021-12-02 00:15:06,753 [Thread-175  ] [rospy.intern] [INFO]  topic[/clock] adding connection to [http://148.187.33.75:44425/], count 0
2021-12-02 00:15:07,134 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Restarting Gazebo web client communication adapter
[0m[ INFO] [1638400506.774587335]: waitForService: Service [/gazebo/set_physics_properties] is now available.[0m
[0m[ INFO] [1638400506.960642788]: Physics dynamic reconfigure ready.[0m
Found /home_daint/bbpnrsoa/nrp/src/gzweb/gzbridge/server.js
Starting node:  OK.

2021-12-02 00:15:09,156 [Thread-171  ] [hbp_nrp_cles] [INFO]  Non-existent textures or folder!
Pose message filter parameters: 
  minimum seconds between successive messages: 0.02
  minimum XYZ distance squared between successive messages: 0.00001
  minimum Quaternion distance squared between successive messages: 0.0001
--------------------------------------------------------------
Thu Dec 02 2021 00:15:09 GMT+0100 (CET) gzbridge Websocket is listening on port: 7681
2021-12-02 00:15:09,560 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Adding robot husky from /tmp/nrp.4.y1nw7luz/husky/model.sdf: 
2021-12-02 00:15:09,890 [Thread-171  ] [hbp_nrp_cles] [INFO]  Preparing CLE Server
2021-12-02 00:15:09,922 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Robot control adapter initialized
2021-12-02 00:15:09,954 [Thread-171  ] [hbp_nrp_cle.] [INFO]  neuronal simulator initialized
2021-12-02 00:15:09,955 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Initialize transfer functions node tfnode
2021-12-02 00:15:09,955 [Thread-171  ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-02 00:15:09,955 [Thread-171  ] [hbp_nrp_cle.] [WARNING]  ROS node already initialized with another name
2021-12-02 00:15:09,955 [Thread-171  ] [hbp_nrp_cle ] [INFO]  Recreating brain from file /tmp/nrp.4.y1nw7luz/hpctest122020.py
2021-12-02 00:15:11,185 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Saving brain source
2021-12-02 00:15:11,185 [Thread-171  ] [hbp_nrp_cle ] [INFO]  Resetting TFs
2021-12-02 00:15:11,185 [Thread-171  ] [hbp_nrp_cle.] [INFO]  NESTClient communication adapter initialized
2021-12-02 00:15:11,185 [Thread-171  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-02 00:15:11,197 [Thread-171  ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-02 00:15:11,200 [Thread-177  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] adding connection to [http://148.187.33.75:34935/], count 0
2021-12-02 00:15:11,200 [Thread-178  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] adding connection to [http://148.187.33.75:45411/], count 0
2021-12-02 00:15:11,202 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] adding connection to [/ros_cle_simulation_280_1638399660525], count 0
2021-12-02 00:15:11,206 [Thread-171  ] [hbp_nrp_cles] [INFO]  Registering ROS Service handlers
2021-12-02 00:15:11,232 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] adding connection to [/nrp_backend], count 1
2021-12-02 00:15:11,268 [Thread-171  ] [hbp_nrp_cle.] [INFO]  Initialize transfer function all_neurons_spike_monitor monitors (root).record
2021-12-02 00:15:11,336 [Thread-171  ] [hbp_nrp_cle.] [ERROR]  Error while loading new transfer function
2021-12-02 00:15:11,336 [Thread-171  ] [hbp_nrp_cle.] [ERROR]  Out of range float values are not JSON compliant
Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 471, in prepare_body
    body = complexjson.dumps(json, allow_nan=False)
  File "/usr/lib/python3.8/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/lib/python3.8/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.8/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Out of range float values are not JSON compliant

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/__init__.py", line 472, in set_transfer_function
    config.active_node.initialize_tf(tf, activation)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_TransferFunctionManager.py", line 285, in initialize_tf
    tf.params[i] = tf.params[i].create_adapter(self)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/tf_framework/_Neuron2Robot.py", line 116, in create_adapter
    return adapter.register_spike_sink(neurons,
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 132, in register_spike_sink
    device = self.__register_device(populations, spike_detector_type, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/NestClientCommunicationAdapter.py", line 112, in __register_device
    device = concrete_type.create_new_device_group(populations, self._nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 72, in create_new_device_group
    return NestDeviceGroup.create_new_device_group(populations, cls, nest_client, params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestDeviceGroup.py", line 58, in create_new_device_group
    device = nested_device_type.create_new_device(
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__AbstractNestBrainDevice.py", line 59, in create_new_device
    return cls(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegratorTypes.py", line 83, in __init__
    super(NestLeakyIntegratorAlpha, self).__init__(nest_client, **params)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 73, in __init__
    self.create_device()
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/devices/__NestLeakyIntegrator.py", line 103, in create_device
    self._cell = self._nest_client.create_device(self._get_cell_type(),
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 79, in create_device
    return self.Create(model=device_model, n=n, params=parameters)
  File "/home_daint/bbpnrsoa/nrp/src/CLE/hbp_nrp_cle/hbp_nrp_cle/brainsim/nest_client/nest_client_rest.py", line 24, in method
    response = requests.post(self.url + 'api/' + call, json=kwargs, headers=self.headers)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 117, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 528, in request
    prep = self.prepare_request(req)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/sessions.py", line 456, in prepare_request
    p.prepare(
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 319, in prepare
    self.prepare_body(data, files, json)
  File "/home_daint/bbpnrsoa/.opt/platform_venv/lib/python3.8/site-packages/requests/models.py", line 473, in prepare_body
    raise InvalidJSONError(ve, request=self)
requests.exceptions.InvalidJSONError: Out of range float values are not JSON compliant
2021-12-02 00:15:11,337 [Thread-171  ] [hbp_nrp_cles] [ERROR]  all_neurons_spike_monitor: 'Out of range float values are not JSON compliant' (TF Loading Exception)
2021-12-02 00:15:11,342 [Thread-171  ] [hbp_nrp_cles] [INFO]  CLELauncher Finished.
2021-12-02 00:15:11,349 [Thread-171  ] [hbp_nrp_cles] [INFO]  Initialization done
2021-12-02 00:15:11,350 [Thread-171  ] [hbp_nrp_cles] [INFO]  Spawning new thread that will manage the experiment execution.
2021-12-02 00:15:11,424 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state created to state paused...
2021-12-02 00:15:11,425 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'initialize' before transition.
2021-12-02 00:15:11,425 [/ros_cle_sim] [transitions.] [INFO]  Exited state created
2021-12-02 00:15:11,425 [/ros_cle_sim] [transitions.] [INFO]  Entered state paused
2021-12-02 00:15:11,425 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9fd39d0>' after transition.
2021-12-02 00:15:12,447 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] adding connection to [/rosbridge_websocket], count 0
2021-12-02 00:15:12,462 [Thread-3    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] adding connection to [/rosbridge_websocket], count 0
2021-12-02 00:15:12,481 [/ros_cle_sim] [transitions.] [INFO]  Initiating transition from state paused to state started...
2021-12-02 00:15:12,481 [CLE_THREAD  ] [hbp_nrp_cle ] [WARNING]  Logging brain simulation configuration is not supported for <class 'hbp_nrp_cle.brainsim.nest_client.NestClientCommunicationAdapter.NestClientCommunicationAdapter'> 
2021-12-02 00:15:12,482 [/ros_cle_sim] [transitions.] [INFO]  Executing callback 'start' before transition.
2021-12-02 00:15:12,482 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop started
2021-12-02 00:15:12,482 [/ros_cle_sim] [transitions.] [INFO]  Exited state paused
2021-12-02 00:15:12,482 [/ros_cle_sim] [transitions.] [INFO]  Entered state started
2021-12-02 00:15:12,482 [/ros_cle_sim] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9fd3ee0>' after transition.
2021-12-02 00:15:40,539 [CLE_THREAD  ] [transitions.] [INFO]  Initiating transition from state started to state stopped...
2021-12-02 00:15:40,539 [CLE_THREAD  ] [transitions.] [INFO]  Executing callback 'stop' before transition.
2021-12-02 00:15:40,539 [CLE_THREAD  ] [transitions.] [INFO]  Exited state started
2021-12-02 00:15:40,539 [CLE_THREAD  ] [transitions.] [INFO]  Entered state stopped
2021-12-02 00:15:40,539 [CLE_THREAD  ] [hbp_nrp_comm] [INFO]  Changing simulation lifecycle state from started to stopped
2021-12-02 00:15:41,540 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/4/lifecycle...
2021-12-02 00:15:41,541 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] removing connection to http://148.187.33.75:34935/
2021-12-02 00:15:41,541 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] removing connection to http://148.187.33.75:45411/
2021-12-02 00:15:41,545 [CLE_THREAD  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/4/lifecycle...
2021-12-02 00:15:41,545 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] removing connection to /ros_cle_simulation_280_1638399660525
2021-12-02 00:15:41,545 [CLE_THREAD  ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/4/lifecycle] removing connection to /nrp_backend
2021-12-02 00:15:41,549 [CLE_THREAD  ] [transitions.] [INFO]  Executed callback '<transitions.extensions.locking.LockedMethod object at 0x2aabd9fd34f0>' after transition.
2021-12-02 00:15:41,549 [CLE_THREAD  ] [hbp_nrp_cle ] [INFO]  Simulation loop ended
2021-12-02 00:15:41,713 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/status] removing connection to /rosbridge_websocket
2021-12-02 00:15:41,713 [Thread-2    ] [rospy.intern] [INFO]  topic[/ros_cle_simulation/cle_error] removing connection to /rosbridge_websocket
2021-12-02 00:15:42,542 [Thread-184  ] [hbp_nrp_cles] [INFO]  Finished main loop
2021-12-02 00:15:42,542 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutdown simulation
2021-12-02 00:15:42,542 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder services
2021-12-02 00:15:42,545 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down simulation recorder
2021-12-02 00:15:46,488 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down the closed loop service
2021-12-02 00:15:46,488 [Thread-184  ] [hbp_nrp_cle.] [INFO]  Shutting down the world simulation
2021-12-02 00:15:46,489 [Thread-184  ] [hbp_nrp_cle.] [INFO]  Robot control adapter stopped
2021-12-02 00:15:46,489 [Thread-184  ] [hbp_nrp_cle.] [INFO]  neuronal simulator ended
2021-12-02 00:15:48,491 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down get_transfer_functions service
2021-12-02 00:15:48,498 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down activate_transfer_function service
2021-12-02 00:15:48,501 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down add_transfer_function service
2021-12-02 00:15:48,505 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down set_transfer_function services
2021-12-02 00:15:48,508 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down delete_transfer_function services
2021-12-02 00:15:48,512 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down get_brain service
2021-12-02 00:15:48,515 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down set_brain service
2021-12-02 00:15:48,519 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-02 00:15:48,522 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down get_populations service
2021-12-02 00:15:48,526 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down get_CSV_recorders_files service
2021-12-02 00:15:48,529 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down clean_CSV_recorders_files service
2021-12-02 00:15:48,533 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down get_robots service
2021-12-02 00:15:48,536 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down add_robot service
2021-12-02 00:15:48,540 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down delete_robot service
2021-12-02 00:15:48,544 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down set_robot_initial_pose service
2021-12-02 00:15:48,548 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down prepare_custom_model service
2021-12-02 00:15:48,587 [Thread-184  ] [hbp_nrp_cle.] [INFO]  Stopping Gazebo web client communication adapter
Stopping node:  OK.
2021-12-02 00:15:48,594 [Thread-184  ] [hbp_nrp_cle.] [INFO]  Stopping gzserver
Stopping 6217:  OK.
2021-12-02 00:15:48,605 [Thread-184  ] [hbp_nrp_cles] [INFO]  Shutting down ROS notificator
2021-12-02 00:15:48,605 [Thread-184  ] [hbp_nrp_cles] [INFO]  Unregister error/transfer_function topic
2021-12-02 00:15:48,605 [Thread-184  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/cle_error...
2021-12-02 00:15:48,609 [Thread-184  ] [hbp_nrp_cles] [INFO]  Unregister status topic
2021-12-02 00:15:48,609 [Thread-184  ] [rospy.intern] [INFO]  topic impl's ref count is zero, deleting topic /ros_cle_simulation/status...
2021-12-02 00:15:48,612 [/clock      ] [rospy.intern] [INFO]  topic[/clock] removing connection to http://148.187.33.75:44425/
2021-12-02 00:15:48,614 [Thread-184  ] [hbp_nrp_cles] [INFO]  Cleaning up ROS nodes and services
killing /gazebo
killed
